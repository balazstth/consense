<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from lunrjs.com/docs/lunr.Query.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 01 Oct 2018 11:33:19 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Query</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Query</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>
            <span class="ancestors"><a href="lunr.html">lunr</a>.</span>Query<span class="signature">()</span><span class="type-signature"></span></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    
    <h4 class="name" id="Query"><span class="type-signature"></span>new Query<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>A lunr.Query provides a programmatic way of defining queries to be performed
against a <a href="lunr.Index.html">lunr.Index</a>.</p>
<p>Prefer constructing a lunr.Query using the <a href="lunr.Index.html#query">lunr.Index#query</a> method
so the query object is pre-initialized with the right index fields.</p>
</div>













    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>clauses</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="lunr.Query.html#~Clause">lunr.Query~Clause</a>></span>


            
            </td>

            

            

            <td class="description last"><p>An array of query clauses.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>allFields</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            

            

            <td class="description last"><p>An array of all available fields in a lunr.Index.</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="query.js.html">query.js</a>, <a href="query.js.html#line12">line 12</a>
    </li></ul></dd>
    

    

    

    
</dl>


















    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id=".presence"><span class="type-signature">(static) </span>presence<span class="type-signature"> :number</span></h4>




<div class="description">
    <p>Constants for indicating what kind of presence a term must have in matching documents.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">number</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>OPTIONAL</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Term's presence in a document is optional, this is the default value.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>REQUIRED</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Term's presence in a document is required, documents that do not contain
this term will not be returned.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>PROHIBITED</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Term's presence in a document is prohibited, documents that do contain
this term will not be returned.</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="query.js.html">query.js</a>, <a href="query.js.html#line57">line 57</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="lunr.Query.html#~Clause">lunr.Query~Clause</a></li>
        
            <li><a href="lunr.Query.html#clause">lunr.Query#clause</a></li>
        
            <li><a href="lunr.Query.html#term">lunr.Query#term</a></li>
        </ul>
    </dd>
    

    
</dl>





    <h5>Example</h5>
    
        <p class="code-caption">query term with required presence</p>
    
    <pre class="prettyprint"><code>query.term('foo', { presence: lunr.Query.presence.REQUIRED })</code></pre>



        
            
<h4 class="name" id=".wildcard"><span class="type-signature">(static, constant) </span>wildcard<span class="type-signature"></span></h4>




<div class="description">
    <p>Constants for indicating what kind of automatic wildcard insertion will be used when constructing a query clause.</p>
<p>This allows wildcards to be added to the beginning and end of a term without having to manually do any string
concatenation.</p>
<p>The wildcard constants can be bitwise combined to select both leading and trailing wildcards.</p>
</div>







    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>wildcard.NONE</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>The term will have no wildcards inserted, this is the default behaviour</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>wildcard.LEADING</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Prepend the term with a wildcard, unless a leading wildcard already exists</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>wildcard.TRAILING</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>Append a wildcard to the term, unless a trailing wildcard already exists</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="query.js.html">query.js</a>, <a href="query.js.html#line41">line 41</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="lunr.Query.html#~Clause">lunr.Query~Clause</a></li>
        
            <li><a href="lunr.Query.html#clause">lunr.Query#clause</a></li>
        
            <li><a href="lunr.Query.html#term">lunr.Query#term</a></li>
        </ul>
    </dd>
    

    
</dl>





    <h5>Examples</h5>
    
        <p class="code-caption">query term with trailing wildcard</p>
    
    <pre class="prettyprint"><code>query.term('foo', { wildcard: lunr.Query.wildcard.TRAILING })</code></pre>

        <p class="code-caption">query term with leading and trailing wildcard</p>
    
    <pre class="prettyprint"><code>query.term('foo', {
  wildcard: lunr.Query.wildcard.LEADING | lunr.Query.wildcard.TRAILING
})</code></pre>



        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="clause"><span class="type-signature"></span>clause<span class="signature">(clause)</span><span class="type-signature"> &rarr; {<a href="lunr.Query.html">lunr.Query</a>}</span></h4>
    

    



<div class="description">
    <p>Adds a <a href="lunr.Query.html#~Clause">lunr.Query~Clause</a> to this query.</p>
<p>Unless the clause contains the fields to be matched all fields will be matched. In addition
a default boost of 1 is applied to the clause.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>clause</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="lunr.Query.html#~Clause">lunr.Query~Clause</a></span>


            
            </td>

            

            

            <td class="description last"><p>The clause to add to this query.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="query.js.html">query.js</a>, <a href="query.js.html#line99">line 99</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="lunr.Query.html#~Clause">lunr.Query~Clause</a></li>
        </ul>
    </dd>
    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="lunr.Query.html">lunr.Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="isNegated"><span class="type-signature"></span>isNegated<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>A negated query is one in which every clause has a presence of
prohibited. These queries require some special processing to return
the expected results.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="query.js.html">query.js</a>, <a href="query.js.html#line140">line 140</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    <p>boolean</p>
</div>



    





        
            

    

    
    <h4 class="name" id="term"><span class="type-signature"></span>term<span class="signature">(term, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="lunr.Query.html">lunr.Query</a>}</span></h4>
    

    



<div class="description">
    <p>Adds a term to the current query, under the covers this will create a <a href="lunr.Query.html#~Clause">lunr.Query~Clause</a>
to the list of clauses that make up this query.</p>
<p>The term is used as is, i.e. no tokenization will be performed by this method. Instead conversion
to a token or token-like string should be done before calling this method.</p>
<p>The term will be converted to a string by calling <code>toString</code>. Multiple terms can be passed as an
array, each term in the array will share the same options.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>term</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>
|

<span class="param-type">Array.&lt;object></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>The term(s) to add to the query.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Any additional properties to add to the query clause.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="query.js.html">query.js</a>, <a href="query.js.html#line176">line 176</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="lunr.Query.html#clause">lunr.Query#clause</a></li>
        
            <li><a href="lunr.Query.html#~Clause">lunr.Query~Clause</a></li>
        </ul>
    </dd>
    

    
</dl>













<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="lunr.Query.html">lunr.Query</a></span>


    </dd>
</dl>

    




    <h5>Examples</h5>
    
        <p class="code-caption">adding a single term to a query</p>
    
    <pre class="prettyprint"><code>query.term("foo")</code></pre>

        <p class="code-caption">adding a single term to a query and specifying search fields, term boost and automatic trailing wildcard</p>
    
    <pre class="prettyprint"><code>query.term("foo", {
  fields: ["title"],
  boost: 10,
  wildcard: lunr.Query.wildcard.TRAILING
})</code></pre>

        <p class="code-caption">using lunr.tokenizer to convert a string to tokens before using them as terms</p>
    
    <pre class="prettyprint"><code>query.term(lunr.tokenizer("foo bar"))</code></pre>



        
    

    
        <h3 class="subsection-title">Type Definitions</h3>

        
                
<h4 class="name" id="~Clause">Clause</h4>




<div class="description">
    <p>A single clause in a <a href="lunr.Query.html">lunr.Query</a> contains a term and details on how to
match that term against a <a href="lunr.Index.html">lunr.Index</a>.</p>
</div>



    <h5>Type:</h5>
    <ul>
        <li>
            
<span class="param-type">Object</span>


        </li>
    </ul>





    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fields</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;string></span>


            
            </td>

            
                <td class="attributes">
                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>The fields in an index this clause should be matched against.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>boost</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                    1
                
                </td>
            

            <td class="description last"><p>Any boost that should be applied when matching this clause.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>editDistance</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Whether the term should have fuzzy matching applied, and how fuzzy the match should be.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>usePipeline</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>Whether the term should be passed through the search pipeline.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>wildcard</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                    lunr.Query.wildcard.NONE
                
                </td>
            

            <td class="description last"><p>Whether the term should have wildcards appended or prepended.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>presence</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                
                </td>
            

            
                <td class="default">
                
                    lunr.Query.presence.OPTIONAL
                
                </td>
            

            <td class="description last"><p>The terms presence in any matching documents.</p></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="query.js.html">query.js</a>, <a href="query.js.html#line76">line 76</a>
    </li></ul></dd>
    

    

    

    
</dl>






            
    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="lunr.Builder.html">lunr.Builder</a></li><li><a href="lunr.Index.html">lunr.Index</a></li><li><a href="lunr.MatchData.html">lunr.MatchData</a></li><li><a href="lunr.Pipeline.html">lunr.Pipeline</a></li><li><a href="lunr.Query.html">lunr.Query</a></li><li><a href="lunr.Set.html">lunr.Set</a></li><li><a href="lunr.Token.html">lunr.Token</a></li><li><a href="lunr.TokenSet.html">lunr.TokenSet</a></li><li><a href="lunr.Vector.html">lunr.Vector</a></li></ul><h3>Namespaces</h3><ul><li><a href="lunr.html">lunr</a></li><li><a href="lunr.utils.html">lunr.utils</a></li></ul><h3>Interfaces</h3><ul><li><a href="lunr.PipelineFunction.html">lunr.PipelineFunction</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Mon Sep 03 2018 19:49:14 GMT+0000 (UTC)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>

<!-- Mirrored from lunrjs.com/docs/lunr.Query.html by HTTrack Website Copier/3.x [XR&CO'2014], Mon, 01 Oct 2018 11:33:19 GMT -->
</html>