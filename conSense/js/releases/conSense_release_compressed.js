var Drag={obj:null,init:function(e,t,n,a,i,o,r,s,l,c){e.onmousedown=Drag.start,e.hmode=!r,e.vmode=!s,e.root=t&&null!=t?t:e,e.hmode&&isNaN(parseInt(e.root.style.left))&&(e.root.style.left="0px"),e.vmode&&isNaN(parseInt(e.root.style.top))&&(e.root.style.top="0px"),!e.hmode&&isNaN(parseInt(e.root.style.right))&&(e.root.style.right="0px"),!e.vmode&&isNaN(parseInt(e.root.style.bottom))&&(e.root.style.bottom="0px"),e.minX="undefined"==typeof n?null:n,e.minY="undefined"==typeof i?null:i,e.maxX="undefined"==typeof a?null:a,e.maxY="undefined"==typeof o?null:o,e.xMapper=l?l:null,e.yMapper=c?c:null,e.root.onDragStart=new Function,e.root.onDragEnd=new Function,e.root.onDrag=new Function},start:function(t){var n=Drag.obj=this;t=Drag.fixE(t);var a=parseInt(n.vmode?n.root.style.top:n.root.style.bottom),i=parseInt(n.hmode?n.root.style.left:n.root.style.right);return n.root.onDragStart(i,a),n.lastMouseX=t.clientX,n.lastMouseY=t.clientY,n.hmode?(null!=n.minX&&(n.minMouseX=t.clientX-i+n.minX),null!=n.maxX&&(n.maxMouseX=n.minMouseX+n.maxX-n.minX)):(null!=n.minX&&(n.maxMouseX=-n.minX+t.clientX+i),null!=n.maxX&&(n.minMouseX=-n.maxX+t.clientX+i)),n.vmode?(null!=n.minY&&(n.minMouseY=t.clientY-a+n.minY),null!=n.maxY&&(n.maxMouseY=n.minMouseY+n.maxY-n.minY)):(null!=n.minY&&(n.maxMouseY=-n.minY+t.clientY+a),null!=n.maxY&&(n.minMouseY=-n.maxY+t.clientY+a)),document.onmousemove=Drag.drag,document.onmouseup=Drag.end,/*@cc_on!@*/!1},drag:function(t){var n=Math.min,a=Math.max;t=Drag.fixE(t);var i=Drag.obj,o=t.clientY,r=t.clientX,s=parseInt(i.vmode?i.root.style.top:i.root.style.bottom),l=parseInt(i.hmode?i.root.style.left:i.root.style.right),c,p;return null!=i.minX&&(r=i.hmode?a(r,i.minMouseX):n(r,i.maxMouseX)),null!=i.maxX&&(r=i.hmode?n(r,i.maxMouseX):a(r,i.minMouseX)),null!=i.minY&&(o=i.vmode?a(o,i.minMouseY):n(o,i.maxMouseY)),null!=i.maxY&&(o=i.vmode?n(o,i.maxMouseY):a(o,i.minMouseY)),c=l+(r-i.lastMouseX)*(i.hmode?1:-1),p=s+(o-i.lastMouseY)*(i.vmode?1:-1),i.xMapper?c=i.xMapper(s):i.yMapper&&(p=i.yMapper(l)),Drag.obj.root.style[i.hmode?"left":"right"]=c+"px",Drag.obj.root.style[i.vmode?"top":"bottom"]=p+"px",Drag.obj.lastMouseX=r,Drag.obj.lastMouseY=o,Drag.obj.root.onDrag(c,p),!1},end:function(){document.onmousemove=null,document.onmouseup=null,Drag.obj.root.onDragEnd(parseInt(Drag.obj.root.style[Drag.obj.hmode?"left":"right"]),parseInt(Drag.obj.root.style[Drag.obj.vmode?"top":"bottom"])),Drag.obj=null},fixE:function(t){return"undefined"==typeof t&&(t=window.event),"undefined"==typeof t.layerX&&(t.layerX=t.offsetX),"undefined"==typeof t.layerY&&(t.layerY=t.offsetY),t}},hexcase=0,b64pad="",chrsz=8;function hex_md5(e){return binl2hex(core_md5(str2binl(e),e.length*chrsz))}function b64_md5(e){return binl2b64(core_md5(str2binl(e),e.length*chrsz))}function str_md5(e){return binl2str(core_md5(str2binl(e),e.length*chrsz))}function hex_hmac_md5(e,t){return binl2hex(core_hmac_md5(e,t))}function b64_hmac_md5(e,t){return binl2b64(core_hmac_md5(e,t))}function str_hmac_md5(e,t){return binl2str(core_hmac_md5(e,t))}function md5_vm_test(){return"900150983cd24fb0d6963f7d28e17f72"==hex_md5("abc")}function core_md5(e,t){e[t>>5]|=128<<t%32,e[(t+64>>>9<<4)+14]=t;for(var n=1732584193,o=-271733879,r=-1732584194,s=271733878,l=0;l<e.length;l+=16){var p=n,u=o,h=r,g=s;n=md5_ff(n,o,r,s,e[l+0],7,-680876936),s=md5_ff(s,n,o,r,e[l+1],12,-389564586),r=md5_ff(r,s,n,o,e[l+2],17,606105819),o=md5_ff(o,r,s,n,e[l+3],22,-1044525330),n=md5_ff(n,o,r,s,e[l+4],7,-176418897),s=md5_ff(s,n,o,r,e[l+5],12,1200080426),r=md5_ff(r,s,n,o,e[l+6],17,-1473231341),o=md5_ff(o,r,s,n,e[l+7],22,-45705983),n=md5_ff(n,o,r,s,e[l+8],7,1770035416),s=md5_ff(s,n,o,r,e[l+9],12,-1958414417),r=md5_ff(r,s,n,o,e[l+10],17,-42063),o=md5_ff(o,r,s,n,e[l+11],22,-1990404162),n=md5_ff(n,o,r,s,e[l+12],7,1804603682),s=md5_ff(s,n,o,r,e[l+13],12,-40341101),r=md5_ff(r,s,n,o,e[l+14],17,-1502002290),o=md5_ff(o,r,s,n,e[l+15],22,1236535329),n=md5_gg(n,o,r,s,e[l+1],5,-165796510),s=md5_gg(s,n,o,r,e[l+6],9,-1069501632),r=md5_gg(r,s,n,o,e[l+11],14,643717713),o=md5_gg(o,r,s,n,e[l+0],20,-373897302),n=md5_gg(n,o,r,s,e[l+5],5,-701558691),s=md5_gg(s,n,o,r,e[l+10],9,38016083),r=md5_gg(r,s,n,o,e[l+15],14,-660478335),o=md5_gg(o,r,s,n,e[l+4],20,-405537848),n=md5_gg(n,o,r,s,e[l+9],5,568446438),s=md5_gg(s,n,o,r,e[l+14],9,-1019803690),r=md5_gg(r,s,n,o,e[l+3],14,-187363961),o=md5_gg(o,r,s,n,e[l+8],20,1163531501),n=md5_gg(n,o,r,s,e[l+13],5,-1444681467),s=md5_gg(s,n,o,r,e[l+2],9,-51403784),r=md5_gg(r,s,n,o,e[l+7],14,1735328473),o=md5_gg(o,r,s,n,e[l+12],20,-1926607734),n=md5_hh(n,o,r,s,e[l+5],4,-378558),s=md5_hh(s,n,o,r,e[l+8],11,-2022574463),r=md5_hh(r,s,n,o,e[l+11],16,1839030562),o=md5_hh(o,r,s,n,e[l+14],23,-35309556),n=md5_hh(n,o,r,s,e[l+1],4,-1530992060),s=md5_hh(s,n,o,r,e[l+4],11,1272893353),r=md5_hh(r,s,n,o,e[l+7],16,-155497632),o=md5_hh(o,r,s,n,e[l+10],23,-1094730640),n=md5_hh(n,o,r,s,e[l+13],4,681279174),s=md5_hh(s,n,o,r,e[l+0],11,-358537222),r=md5_hh(r,s,n,o,e[l+3],16,-722521979),o=md5_hh(o,r,s,n,e[l+6],23,76029189),n=md5_hh(n,o,r,s,e[l+9],4,-640364487),s=md5_hh(s,n,o,r,e[l+12],11,-421815835),r=md5_hh(r,s,n,o,e[l+15],16,530742520),o=md5_hh(o,r,s,n,e[l+2],23,-995338651),n=md5_ii(n,o,r,s,e[l+0],6,-198630844),s=md5_ii(s,n,o,r,e[l+7],10,1126891415),r=md5_ii(r,s,n,o,e[l+14],15,-1416354905),o=md5_ii(o,r,s,n,e[l+5],21,-57434055),n=md5_ii(n,o,r,s,e[l+12],6,1700485571),s=md5_ii(s,n,o,r,e[l+3],10,-1894986606),r=md5_ii(r,s,n,o,e[l+10],15,-1051523),o=md5_ii(o,r,s,n,e[l+1],21,-2054922799),n=md5_ii(n,o,r,s,e[l+8],6,1873313359),s=md5_ii(s,n,o,r,e[l+15],10,-30611744),r=md5_ii(r,s,n,o,e[l+6],15,-1560198380),o=md5_ii(o,r,s,n,e[l+13],21,1309151649),n=md5_ii(n,o,r,s,e[l+4],6,-145523070),s=md5_ii(s,n,o,r,e[l+11],10,-1120210379),r=md5_ii(r,s,n,o,e[l+2],15,718787259),o=md5_ii(o,r,s,n,e[l+9],21,-343485551),n=safe_add(n,p),o=safe_add(o,u),r=safe_add(r,h),s=safe_add(s,g)}return[n,o,r,s]}function md5_cmn(e,n,a,i,o,r){return safe_add(bit_rol(safe_add(safe_add(n,e),safe_add(i,r)),o),a)}function md5_ff(e,n,a,i,o,r,s){return md5_cmn(n&a|~n&i,e,n,o,r,s)}function md5_gg(e,n,a,i,o,r,s){return md5_cmn(n&i|a&~i,e,n,o,r,s)}function md5_hh(e,n,a,i,o,r,s){return md5_cmn(n^a^i,e,n,o,r,s)}function md5_ii(e,n,a,i,o,r,s){return md5_cmn(a^(n|~i),e,n,o,r,s)}function core_hmac_md5(e,t){var n=str2binl(e);16<n.length&&(n=core_md5(n,e.length*chrsz));for(var a=Array(16),o=Array(16),r=0;16>r;r++)a[r]=909522486^n[r],o[r]=1549556828^n[r];var s=core_md5(a.concat(str2binl(t)),512+t.length*chrsz);return core_md5(o.concat(s),640)}function safe_add(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function bit_rol(e,t){return e<<t|e>>>32-t}function str2binl(e){for(var t=[],n=(1<<chrsz)-1,a=0;a<e.length*chrsz;a+=chrsz)t[a>>5]|=(e.charCodeAt(a/chrsz)&n)<<a%32;return t}function binl2str(e){for(var t="",n=(1<<chrsz)-1,a=0;a<32*e.length;a+=chrsz)t+=String.fromCharCode(e[a>>5]>>>a%32&n);return t}function binl2hex(e){for(var t=hexcase?"0123456789ABCDEF":"0123456789abcdef",n="",a=0;a<4*e.length;a++)n+=t.charAt(15&e[a>>2]>>8*(a%4)+4)+t.charAt(15&e[a>>2]>>8*(a%4));return n}function binl2b64(e){for(var t="",n=0,a;n<4*e.length;n+=3){a=(255&e[n>>2]>>8*(n%4))<<16|(255&e[n+1>>2]>>8*((n+1)%4))<<8|255&e[n+2>>2]>>8*((n+2)%4);for(var o=0;4>o;o++)t+=8*n+6*o>32*e.length?b64pad:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&a>>6*(3-o))}return t}var hexcase=0,b64pad="",chrsz=8;function hex_sha1(e){return binb2hex(core_sha1(str2binb(e),e.length*chrsz))}function b64_sha1(e){return binb2b64(core_sha1(str2binb(e),e.length*chrsz))}function str_sha1(e){return binb2str(core_sha1(str2binb(e),e.length*chrsz))}function hex_hmac_sha1(e,t){return binb2hex(core_hmac_sha1(e,t))}function b64_hmac_sha1(e,t){return binb2b64(core_hmac_sha1(e,t))}function str_hmac_sha1(e,t){return binb2str(core_hmac_sha1(e,t))}function sha1_vm_test(){return"a9993e364706816aba3e25717850c26c9cd0d89d"==hex_sha1("abc")}function core_sha1(n,o){n[o>>5]|=128<<24-o%32,n[(o+64>>9<<4)+15]=o;for(var r=Array(80),s=1732584193,l=-271733879,p=-1732584194,u=271733878,h=-1009589776,g=0;g<n.length;g+=16){for(var f=s,S=l,E=p,v=u,x=h,_=0;80>_;_++){r[_]=16>_?n[g+_]:rol(r[_-3]^r[_-8]^r[_-14]^r[_-16],1);var T=safe_add(safe_add(rol(s,5),sha1_ft(_,l,p,u)),safe_add(safe_add(h,r[_]),sha1_kt(_)));h=u,u=p,p=rol(l,30),l=s,s=T}s=safe_add(s,f),l=safe_add(l,S),p=safe_add(p,E),u=safe_add(u,v),h=safe_add(h,x)}return[s,l,p,u,h]}function sha1_ft(e,t,n,a){return 20>e?t&n|~t&a:40>e?t^n^a:60>e?t&n|t&a|n&a:t^n^a}function sha1_kt(e){return 20>e?1518500249:40>e?1859775393:60>e?-1894007588:-899497514}function core_hmac_sha1(e,t){var n=str2binb(e);16<n.length&&(n=core_sha1(n,e.length*chrsz));for(var a=Array(16),o=Array(16),r=0;16>r;r++)a[r]=909522486^n[r],o[r]=1549556828^n[r];var s=core_sha1(a.concat(str2binb(t)),512+t.length*chrsz);return core_sha1(o.concat(s),672)}function safe_add(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function rol(e,t){return e<<t|e>>>32-t}function str2binb(e){for(var t=[],n=(1<<chrsz)-1,a=0;a<e.length*chrsz;a+=chrsz)t[a>>5]|=(e.charCodeAt(a/chrsz)&n)<<32-chrsz-a%32;return t}function binb2str(e){for(var t="",n=(1<<chrsz)-1,a=0;a<32*e.length;a+=chrsz)t+=String.fromCharCode(e[a>>5]>>>32-chrsz-a%32&n);return t}function binb2hex(e){for(var t=hexcase?"0123456789ABCDEF":"0123456789abcdef",n="",a=0;a<4*e.length;a++)n+=t.charAt(15&e[a>>2]>>8*(3-a%4)+4)+t.charAt(15&e[a>>2]>>8*(3-a%4));return n}function binb2b64(e){for(var t="",n=0,a;n<4*e.length;n+=3){a=(255&e[n>>2]>>8*(3-n%4))<<16|(255&e[n+1>>2]>>8*(3-(n+1)%4))<<8|255&e[n+2>>2]>>8*(3-(n+2)%4);for(var o=0;4>o;o++)t+=8*n+6*o>32*e.length?b64pad:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charAt(63&a>>6*(3-o))}return t}Date.MONTHS=["January","February","March","April","May","June","July","August","September","October","November","December"],Date.DAYS=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],Date.SUFFIXES=["st","nd","rd","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","th","st","nd","rd","th","th","th","th","th","th","th","st"],Date.prototype.format=function(e){var t=null==e?"DD-MMM-YY":e,n=["D","M","Y","H","d","h","m","s","t"],a=[],o=0,r=/\[(\d+)\]/,s=this.getDay(),l=this.getDate(),c=this.getMonth(),p=this.getFullYear().toString(),u=this.getHours(),h=this.getMinutes(),g=this.getSeconds(),f={},b;f.D=l,f.d=l+Date.SUFFIXES[l-1],f.DD=10>l?"0"+l:l,f.DDD=Date.DAYS[s].substring(0,3),f.DDDD=Date.DAYS[s],f.M=c+1,f.MM=10>c+1?"0"+(c+1):c+1,f.MMM=Date.MONTHS[c].substring(0,3),f.MMMM=Date.MONTHS[c],f.Y="0"==p.charAt(2)?p.charAt(3):p.substring(2,4),f.YY=p.substring(2,4),f.YYYY=p,f.H=u,f.HH=10>u?"0"+u:u,f.h=12<u||0==u?Math.abs(u-12):u,f.hh=10>f.h?"0"+f.h:f.h,f.m=h,f.mm=10>h?"0"+h:h,f.s=g,f.ss=10>g?"0"+g:g,f.t=12>u?"A":"P",f.tt=12>u?"AM":"PM";for(var S=0;S<n.length;S++)for(b=new RegExp("("+n[S]+"+)");b.test(t);)a[o]=RegExp.$1,t=t.replace(RegExp.$1,"["+o+"]"),o++;for(;r.test(t);)t=t.replace(r,f[a[RegExp.$1]]);return t};var stIsIE=!1;/*@cc_on @*/if(sorttable={init:function(){arguments.callee.done||(arguments.callee.done=!0,_timer&&clearInterval(_timer),document.createElement&&document.getElementsByTagName&&(sorttable.DATE_RE=/^(\d\d?)[\/\.-](\d\d?)[\/\.-]((\d\d)?\d\d)$/,forEach(document.getElementsByTagName("table"),function(e){-1!=e.className.search(/\bsortable\b/)&&sorttable.makeSortable(e)})))},makeSortable:function(e){if(0==e.getElementsByTagName("thead").length&&(the=document.createElement("thead"),the.appendChild(e.rows[0]),e.insertBefore(the,e.firstChild)),null==e.tHead&&(e.tHead=e.getElementsByTagName("thead")[0]),1==e.tHead.rows.length){sortbottomrows=[];for(var t=0;t<e.rows.length;t++)-1!=e.rows[t].className.search(/\bsortbottom\b/)&&(sortbottomrows[sortbottomrows.length]=e.rows[t]);if(sortbottomrows){null==e.tFoot&&(tfo=document.createElement("tfoot"),e.appendChild(tfo));for(var t=0;t<sortbottomrows.length;t++)tfo.appendChild(sortbottomrows[t]);delete sortbottomrows}headrow=e.tHead.rows[0].cells;for(var t=0;t<headrow.length;t++)headrow[t].className.match(/\bsorttable_nosort\b/)||(mtch=headrow[t].className.match(/\bsorttable_([a-z0-9]+)\b/),mtch&&(override=mtch[1]),headrow[t].sorttable_sortfunction=mtch&&"function"==typeof sorttable["sort_"+override]?sorttable["sort_"+override]:sorttable.guessType(e,t),headrow[t].sorttable_columnindex=t,headrow[t].sorttable_tbody=e.tBodies[0],dean_addEvent(headrow[t],"click",function(){if(-1!=this.className.search(/\bsorttable_sorted\b/))return sorttable.reverse(this.sorttable_tbody),this.className=this.className.replace("sorttable_sorted","sorttable_sorted_reverse"),this.removeChild(document.getElementById("sorttable_sortfwdind")),sortrevind=document.createElement("span"),sortrevind.id="sorttable_sortrevind",sortrevind.innerHTML="&nbsp;&uarr;",void this.appendChild(sortrevind);if(-1!=this.className.search(/\bsorttable_sorted_reverse\b/))return sorttable.reverse(this.sorttable_tbody),this.className=this.className.replace("sorttable_sorted_reverse","sorttable_sorted"),this.removeChild(document.getElementById("sorttable_sortrevind")),sortfwdind=document.createElement("span"),sortfwdind.id="sorttable_sortfwdind",sortfwdind.innerHTML="&nbsp;&darr;",void this.appendChild(sortfwdind);theadrow=this.parentNode,forEach(theadrow.childNodes,function(e){1==e.nodeType&&(e.className=e.className.replace("sorttable_sorted_reverse",""),e.className=e.className.replace("sorttable_sorted",""))}),sortfwdind=document.getElementById("sorttable_sortfwdind"),sortfwdind&&sortfwdind.parentNode.removeChild(sortfwdind),sortrevind=document.getElementById("sorttable_sortrevind"),sortrevind&&sortrevind.parentNode.removeChild(sortrevind),this.className+=" sorttable_sorted",sortfwdind=document.createElement("span"),sortfwdind.id="sorttable_sortfwdind",sortfwdind.innerHTML="&nbsp;&darr;",this.appendChild(sortfwdind),row_array=[],col=this.sorttable_columnindex,rows=this.sorttable_tbody.rows;for(var e=0;e<rows.length;e++)row_array[row_array.length]=[sorttable.getInnerText(rows[e].cells[col]),rows[e]];row_array.sort(this.sorttable_sortfunction),tb=this.sorttable_tbody;for(var e=0;e<row_array.length;e++)tb.appendChild(row_array[e][1]);delete row_array}))}},guessType:function(e,t){sortfn=sorttable.sort_alpha;for(var n=0;n<e.tBodies[0].rows.length;n++)if(text=sorttable.getInnerText(e.tBodies[0].rows[n].cells[t]),""!=text){if(text.match(/^-?[�$�]?[\d,.]+%?$/))return sorttable.sort_numeric;if(possdate=text.match(sorttable.DATE_RE),possdate){if(first=parseInt(possdate[1]),second=parseInt(possdate[2]),12<first)return sorttable.sort_ddmm;if(12<second)return sorttable.sort_mmdd;sortfn=sorttable.sort_ddmm}}return sortfn},getInnerText:function(e){if(hasInputs="function"==typeof e.getElementsByTagName&&e.getElementsByTagName("input").length,null!=e.getAttribute("sorttable_customkey"))return e.getAttribute("sorttable_customkey");if("undefined"!=typeof e.textContent&&!hasInputs)return e.textContent.replace(/^\s+|\s+$/g,"");if("undefined"!=typeof e.innerText&&!hasInputs)return e.innerText.replace(/^\s+|\s+$/g,"");if("undefined"!=typeof e.text&&!hasInputs)return e.text.replace(/^\s+|\s+$/g,"");switch(e.nodeType){case 3:if("input"==e.nodeName.toLowerCase())return e.value.replace(/^\s+|\s+$/g,"");case 4:return e.nodeValue.replace(/^\s+|\s+$/g,"");break;case 1:case 11:for(var t="",n=0;n<e.childNodes.length;n++)t+=sorttable.getInnerText(e.childNodes[n]);return t.replace(/^\s+|\s+$/g,"");break;default:return"";}},reverse:function(e){newrows=[];for(var t=0;t<e.rows.length;t++)newrows[newrows.length]=e.rows[t];for(var t=newrows.length-1;0<=t;t--)e.appendChild(newrows[t]);delete newrows},sort_numeric:function(e,t){return aa=parseFloat(e[0].replace(/[^0-9.-]/g,"")),isNaN(aa)&&(aa=0),bb=parseFloat(t[0].replace(/[^0-9.-]/g,"")),isNaN(bb)&&(bb=0),aa-bb},sort_alpha:function(e,t){return e[0]==t[0]?0:e[0]<t[0]?-1:1},sort_ddmm:function(e,t){return mtch=e[0].match(sorttable.DATE_RE),y=mtch[3],m=mtch[2],d=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt1=y+m+d,mtch=t[0].match(sorttable.DATE_RE),y=mtch[3],m=mtch[2],d=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt2=y+m+d,dt1==dt2?0:dt1<dt2?-1:1},sort_mmdd:function(e,t){return mtch=e[0].match(sorttable.DATE_RE),y=mtch[3],d=mtch[2],m=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt1=y+m+d,mtch=t[0].match(sorttable.DATE_RE),y=mtch[3],d=mtch[2],m=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt2=y+m+d,dt1==dt2?0:dt1<dt2?-1:1},shaker_sort:function(e,n){for(var a=0,o=e.length-1,r=!0;r;){r=!1;for(var s=a;s<o;++s)if(0<n(e[s],e[s+1])){var l=e[s];e[s]=e[s+1],e[s+1]=l,r=!0}if(o--,!r)break;for(var s=o;s>a;--s)if(0>n(e[s],e[s-1])){var l=e[s];e[s]=e[s-1],e[s-1]=l,r=!0}a++}}},document.addEventListener&&document.addEventListener("DOMContentLoaded",sorttable.init,!1),/WebKit/i.test(navigator.userAgent))var _timer=setInterval(function(){/loaded|complete/.test(document.readyState)&&sorttable.init()},10);window.onload=sorttable.init;function dean_addEvent(e,t,n){if(e.addEventListener)e.addEventListener(t,n,!1);else{n.$$guid||(n.$$guid=dean_addEvent.guid++),e.events||(e.events={});var a=e.events[t];a||(a=e.events[t]={},e["on"+t]&&(a[0]=e["on"+t])),a[n.$$guid]=n,e["on"+t]=handleEvent}}dean_addEvent.guid=1;function removeEvent(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.events&&e.events[t]&&delete e.events[t][n.$$guid]}function handleEvent(e){var t=!0;e=e||fixEvent(((this.ownerDocument||this.document||this).parentWindow||window).event);var n=this.events[e.type];for(var a in n)this.$$handleEvent=n[a],!1===this.$$handleEvent(e)&&(t=!1);return t}function fixEvent(e){return e.preventDefault=fixEvent.preventDefault,e.stopPropagation=fixEvent.stopPropagation,e}fixEvent.preventDefault=function(){this.returnValue=!1},fixEvent.stopPropagation=function(){this.cancelBubble=!0},Array.forEach||(Array.forEach=function(e,t,n){for(var a=0;a<e.length;a++)t.call(n,e[a],a,e)}),Function.prototype.forEach=function(e,t,n){for(var a in e)"undefined"==typeof this.prototype[a]&&t.call(n,e[a],a,e)},String.forEach=function(e,t,n){Array.forEach(e.split(""),function(a,i){t.call(n,a,i,e)})};var forEach=function(e,t,n){if(e){var a=Object;if(e instanceof Function)a=Function;else{if(e.forEach instanceof Function)return void e.forEach(t,n);"string"==typeof e?a=String:"number"==typeof e.length&&(a=Array)}a.forEach(e,t,n)}};/*! keydrown - v1.2.2 - 2016-03-23 - http://jeremyckahn.github.com/keydrown */(function(e){var t=function(){var t={forEach:function(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}},n=t.forEach;t.getTranspose=function(e){var t={};return n(e,function(e,n){t[e]=n}),t},t.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);var n=e.length,a;for(a=0;a<n;a++)if(e[a]===t)return a;return-1};var a=t.indexOf;return t.pushUnique=function(e,t){return-1===a(e,t)&&(e.push(t),!0)},t.removeValue=function(e,t){var n=a(e,t);if(-1!==n)return e.splice(n,1)[0]},t.documentOn=function(t,n){e.addEventListener?e.addEventListener(t,n,!1):document.attachEvent&&document.attachEvent("on"+t,n)},t.requestAnimationFrame=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||function(t){e.setTimeout(t,1e3/60)}}(),t.noop=function(){},t}(),n={A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,ENTER:13,SHIFT:16,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,BACKSPACE:8,DELETE:46},a=t.getTranspose(n),i=[],o=function(){"use strict";function e(e){this.keyCode=e,this.cachedKeypressEvent=null}/*!
   * The function to be invoked on every tick that the key is held down for.
   *
   * @type {function}
   */ /*!
   * Private helper function that binds or invokes a hander for `down`, `up',
   * or `press` for a `Key`.
   *
   * @param {Key} key
   * @param {string} handlerName
   * @param {function=} opt_handler If omitted, the handler is invoked.
   * @param {KeyboardEvent=} opt_evt If this function is being called by a
   * keyboard event handler, this is the raw KeyboardEvent Object provided from
   * the browser.
   */function n(e,t,n,a){n?e[t]=n:e[t](a)}return e.prototype._downHandler=t.noop,e.prototype._upHandler=t.noop,e.prototype._pressHandler=t.noop,e.prototype.isDown=function(){return-1!==t.indexOf(i,this.keyCode)},e.prototype.down=function(e){n(this,"_downHandler",e,this.cachedKeypressEvent)},e.prototype.up=function(e,t){n(this,"_upHandler",e,t)},e.prototype.press=function(e,t){this.cachedKeypressEvent=t,n(this,"_pressHandler",e,t)},e.prototype.unbindDown=function(){this._downHandler=t.noop},e.prototype.unbindUp=function(){this._upHandler=t.noop},e.prototype.unbindPress=function(){this._pressHandler=t.noop},e}(),r=function(r){"use strict";var s={Key:o},i=!1,l=Date.now?Date.now:function(){return+new Date},c=l();return s.tick=function(){var e=r.length,t;for(t=0;t<e;t++){var n=r[t],o=a[n];o&&s[o].down()}},s.run=function(n){i=!0;var a=l(),o=a-c;t.requestAnimationFrame.call(e,function(){i&&(s.run(n),n(o,a))}),c=a},s.stop=function(){i=!1},t.forEach(n,function(e,t){s[t]=new o(e)}),t.documentOn("keydown",function(e){var n=e.keyCode,i=a[n],o=t.pushUnique(r,n),l=s[i];if(l){var c=l.cachedKeypressEvent||{};(c.ctrlKey||c.shiftKey||c.metaKey)&&(o=!0),o&&l.press(null,e)}}),t.documentOn("keyup",function(e){var n=t.removeValue(r,e.keyCode),i=a[n];i&&s[i].up(null,e)}),t.documentOn("blur",function(){t.forEach(r,function(e){var t=a[e];t&&s[t].up()}),r.length=0}),s}(i);"object"==typeof module&&"object"==typeof module.exports?module.exports=r:"function"==typeof define&&define.amd?define(function(){return r}):e.kd=r})(window),function(){"use strict";function e(e,t){return void 0===t&&(t=$),Z.test(e)?t.getElementsByClassName(e.slice(1)):ee.test(e)?t.getElementsByTagName(e):t.querySelectorAll(e)}function t(t,n){if(void 0===n&&(n=$),!!t){if(t.__cash)return t;var a=t;if(c(t)){if(n.__cash&&(n=n[0]),a=G.test(t)?n.getElementById(t.slice(1)):Q.test(t)?f(t):e(t,n),!a)return;}else if(s(t))return this.ready(t);(a.nodeType||a===U)&&(a=[a]),this.length=a.length;for(var o=0,r=this.length;o<r;o++)this[o]=a[o]}}function n(e,n){return new t(e,n)}function a(e){return e.replace(i,function(e,t){return e[t?"toUpperCase":"toLowerCase"]()}).replace(l,"")}function o(e,t){for(var n=0,a=e.length;n<a&&!(!1===t.call(e[n],e[n],n,e));n++);}function r(e,t){var n=e&&(e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector);return!!n&&n.call(e,t)}function s(e){return"function"==typeof e}function c(e){return"string"==typeof e}function p(e){return!isNaN(parseFloat(e))&&isFinite(e)}function u(e){return c(e)?function(t,n){return r(n,e)}:e.__cash?function(t,n){return e.is(n)}:function(e,t,n){return t===n}}function h(e){return c(e)?e.match(ie)||[]:[]}function g(){if(!oe){oe=$.implementation.createHTMLDocument("");var e=oe.createElement("base");e.href=$.location.href,oe.head.appendChild(e)}}function f(e){return g(),c(e)||(e=""),oe.body.innerHTML=e,V.call(oe.body.childNodes)}function b(e){return e.filter(function(e,t,n){return n.indexOf(e)===t})}function S(e,t,n){if(1===e.nodeType){var a=U.getComputedStyle(e,null);return t?n?a.getPropertyValue(t):a[t]:a}}function E(e,t){return parseInt(S(e,t),10)||0}function v(e){return re.test(e)}function x(e,t){if(void 0===t&&(t=v(e)),t)return e;if(!se[e]){var n=a(e),i=""+n.charAt(0).toUpperCase()+n.slice(1),r=(n+" "+ce.join(i+" ")+i).split(" ");o(r,function(t){if(t in de)return se[e]=t,!1})}return se[e]}function _(e,t,n){return void 0===n&&(n=v(e)),n||pe[e]||!p(t)?t:t+"px"}function T(e){return e.__cashData=e.__cashData||{}}function C(e,t){var i=T(e);if(t){if(!(t in i)){var o=e.dataset?e.dataset[t]||e.dataset[a(t)]:n(e).attr("data-"+t);if(o!==void 0){try{o=JSON.parse(o)}catch(t){}i[t]=o}}return i[t]}return i}function O(e,t){t===void 0?delete e.__cashData:delete T(e)[t]}function N(e,t,n){T(e)[t]=n}function w(e,t){return E(e,"border"+(t?"Left":"Top")+"Width")+E(e,"padding"+(t?"Left":"Top"))+E(e,"padding"+(t?"Right":"Bottom"))+E(e,"border"+(t?"Right":"Bottom")+"Width")}function M(e,t){for(var n=0,a=t.length;n<a;n++)if(0>e.indexOf(t[n]))return!1;return!0}function I(e,t,n){o(e[n],function(e){var a=e[0],i=e[1];t.removeEventListener(n,i)}),delete e[n]}function k(e){return e.__cashEvents=e.__cashEvents||{}}function A(e,t,n,a){a.guid=a.guid||ne++;var i=k(e);i[t]=i[t]||[],i[t].push([n,a]),e.addEventListener(t,a)}function D(e){var t=e.split(".");return[t[0],t.slice(1).sort()]}function L(e,t,n,a){var i=k(e);if(!!t){var o=i[t];if(!o)return;a&&(a.guid=a.guid||ne++),i[t]=o.filter(function(i){var o=i[0],r=i[1];return!((!a||r.guid===a.guid)&&M(o,n))||void e.removeEventListener(t,r)})}else if(!n||!n.length)for(t in i)I(i,e,t);else for(t in i)L(e,t,n,a)}function H(e){var t=[];return o(e.options,function(e){!e.selected||e.disabled||e.parentNode.disabled||t.push(e.value)}),t}function j(e){return 0>e.selectedIndex?null:e.options[e.selectedIndex].value}function R(e){var t=e.type;return he.test(t)?j(e):me.test(t)?H(e):e.value}function P(e,t){return"&"+encodeURIComponent(e)+"="+encodeURIComponent(t).replace(ge,"+")}function B(e,t,n){n?e.insertBefore(t,e.childNodes[0]):e.appendChild(t)}function F(e,t,n){var a=c(t);!a&&t.length?o(t,function(t){return F(e,t,n)}):o(e,a?function(e){e.insertAdjacentHTML(n?"afterbegin":"beforeend",t)}:function(e,a){return B(e,a?t.cloneNode(!0):t,n)})}var $=document,U=window,Y=Array.prototype,z=Y.filter,K=Y.indexOf,X=Y.map,q=Y.push,W=Y.reverse,V=Y.slice,J=Y.splice,G=/^#[\w-]*$/,Z=/^\.[\w-]*$/,Q=/<.+>/,ee=/^\w+$/,te=n.fn=n.prototype=t.prototype={constructor:n,__cash:!0,length:0,splice:J};te.get=function(e){return void 0===e?V.call(this):this[0>e?e+this.length:e]},te.eq=function(e){return n(this.get(e))},te.first=function(){return this.eq(0)},te.last=function(){return this.eq(-1)},te.map=function(e){return n(X.call(this,function(t,n){return e.call(t,n,t)}))},te.slice=function(){return n(V.apply(this,arguments))};var i=/(?:^\w|[A-Z]|\b\w)/g,l=/[\s-_]+/g;n.camelCase=a,n.each=o,te.each=function(e){return o(this,function(t,n){return e.call(t,n,t)}),this},te.removeProp=function(e){return this.each(function(t,n){delete n[e]})},"undefined"==typeof exports?U.cash=U.$=n:module.exports=n;n.extend=te.extend=function(e){void 0===e&&(e=this);for(var t=arguments,n=t.length,a=2>n?0:1;a<n;a++)for(var o in t[a])e[o]=t[a][o];return e};var ne=1;n.guid=ne,n.matches=r,n.isFunction=s,n.isString=c,n.isNumeric=p;var ae=Array.isArray;n.isArray=ae,te.prop=function(e,t){if(e){if(c(e))return 2>arguments.length?this[0]&&this[0][e]:this.each(function(n,a){a[e]=t});for(var n in e)this.prop(n,e[n]);return this}},te.filter=function(e){if(!e)return n();var t=s(e)?e:u(e);return n(z.call(this,function(n,a){return t.call(n,a,n,e)}))};var ie=/\S+/g;te.hasClass=function(e){var t=h(e),n=!1;return t.length&&this.each(function(e,a){return n=a.classList.contains(t[0]),!n}),n},te.removeAttr=function(e){var t=h(e);return t.length?this.each(function(e,n){o(t,function(e){n.removeAttribute(e)})}):this},te.attr=function(e,t){if(e){if(c(e)){if(2>arguments.length){if(!this[0])return;var n=this[0].getAttribute(e);return null===n?void 0:n}return null===t?this.removeAttr(e):this.each(function(n,a){a.setAttribute(e,t)})}for(var a in e)this.attr(a,e[a]);return this}},te.toggleClass=function(e,t){var n=h(e);return n.length?this.each(function(e,a){o(n,function(e){t!==void 0?t?a.classList.add(e):a.classList.remove(e):a.classList.toggle(e)})}):this},te.addClass=function(e){return this.toggleClass(e,!0)},te.removeClass=function(e){return arguments.length?this.toggleClass(e,!1):this.attr("class","")};var oe;n.parseHTML=f,n.unique=b,te.add=function(e,t){return n(b(this.get().concat(n(e,t).get())))};var re=/^--/,se={},le=$.createElement("div"),de=le.style,ce=["webkit","moz","ms","o"];n.prefixedProp=x;var pe={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};te.css=function(e,t){if(c(e)){var n=v(e);return(e=x(e,n),2>arguments.length)?this[0]&&S(this[0],e,n):e?(t=_(e,t,n),this.each(function(a,i){1!==i.nodeType||(n?i.style.setProperty(e,t):i.style[e]=t)})):this}for(var a in e)this.css(a,e[a]);return this};var ue=/^data-(.*)/;n.hasData=function(e){return"__cashData"in e},te.data=function(e,t){var n=this;if(!e)return this[0]?(o(this[0].attributes,function(e){var t=e.name.match(ue);t&&n.data(t[1])}),C(this[0])):void 0;if(c(e))return void 0===t?this[0]&&C(this[0],e):this.each(function(n,a){return N(a,e,t)});for(var a in e)this.data(a,e[a]);return this},te.removeData=function(e){return this.each(function(t,n){return O(n,e)})},o(["Width","Height"],function(e){te["inner"+e]=function(){return this[0]?this[0]===U?U["inner"+e]:this[0]["client"+e]:void 0}}),o(["width","height"],function(e,t){te[e]=function(n){return this[0]?arguments.length?(n=parseInt(n,10),this.each(function(a,i){if(1===i.nodeType){var o=S(i,"boxSizing");i.style[e]=_(e,n+("border-box"===o?w(i,!t):0))}})):this[0]===U?this[0][a("outer-"+e)]:this[0].getBoundingClientRect()[e]-w(this[0],!t):void 0===n?void 0:this}}),o(["Width","Height"],function(e,t){te["outer"+e]=function(n){return this[0]?this[0]===U?U["outer"+e]:this[0]["offset"+e]+(n?E(this[0],"margin"+(t?"Top":"Left"))+E(this[0],"margin"+(t?"Bottom":"Right")):0):void 0}});te.off=function(e,t){var n=this;return void 0===e?this.each(function(e,t){return L(t)}):o(h(e),function(e){var a=D(e),o=a[0],r=a[1];n.each(function(e,n){return L(n,o,r,t)})}),this},te.on=function(e,t,n,a){var i=this;if(!c(e)){for(var l in e)this.on(l,t,e[l]);return this}return s(t)&&(n=t,t=!1),o(h(e),function(e){var o=D(e),s=o[0],l=o[1];i.each(function(e,i){var o=function e(o){if(!o.namespace||M(l,o.namespace.split("."))){var c=i;if(t){for(var p=o.target;!r(p,t);){if(p===i)return;if(p=p.parentNode,!p)return}c=p}o.namespace=o.namespace||"";var u=n.call(c,o,o.data);a&&L(i,s,l,e),!1===u&&(o.preventDefault(),o.stopPropagation())}};o.guid=n.guid=n.guid||ne++,A(i,s,l,o)})}),this},te.one=function(e,t,n){return this.on(e,t,n,!0)},te.ready=function(e){var t=function(){return e(n)};return"loading"===$.readyState?$.addEventListener("DOMContentLoaded",t):setTimeout(t),this},te.trigger=function(e,t){var n=e;if(c(e)){var a=D(e),i=a[0],o=a[1];n=$.createEvent("HTMLEvents"),n.initEvent(i,!0,!0),n.namespace=o.join(".")}return n.data=t,this.each(function(e,t){t.dispatchEvent(n)})};var he=/select-one/i,me=/select-multiple/i,ge=/%20/g,fe=/file|reset|submit|button|image/i,ye=/radio|checkbox/i;te.serialize=function(){var e="";return this.each(function(t,n){o(n.elements||[n],function(t){if(!t.disabled&&t.name&&"FIELDSET"!==t.tagName&&!fe.test(t.type)&&(!ye.test(t.type)||t.checked)){var n=R(t);if(void 0!==n){var a=ae(n)?n:[n];o(a,function(n){e+=P(t.name,n)})}}})}),e.substr(1)},te.val=function(e){return void 0===e?this[0]&&R(this[0]):this.each(function(t,n){me.test(n.type)&&ae(e)?o(n.options,function(t){t.selected=0<=e.indexOf(t.value)}):n.value=e})},te.clone=function(){return this.map(function(e,t){return t.cloneNode(!0)})},te.detach=function(){return this.each(function(e,t){t.parentNode&&t.parentNode.removeChild(t)})},te.append=function(){var e=this;return o(arguments,function(t){F(e,t)}),this},te.appendTo=function(e){return F(n(e),this),this},te.html=function(e){if(e===void 0)return this[0]&&this[0].innerHTML;var t=e.nodeType?e[0].outerHTML:e;return this.each(function(e,n){n.innerHTML=t})},te.empty=function(){return this.html("")},te.insertAfter=function(e){var t=this;return n(e).each(function(n,a){var o=a.parentNode;t.each(function(t,i){o.insertBefore(n?i.cloneNode(!0):i,a.nextSibling)})}),this},te.after=function(){var e=this;return o(W.apply(arguments),function(t){W.apply(n(t).slice()).insertAfter(e)}),this},te.insertBefore=function(e){var t=this;return n(e).each(function(n,a){var o=a.parentNode;t.each(function(t,i){o.insertBefore(n?i.cloneNode(!0):i,a)})}),this},te.before=function(){var e=this;return o(arguments,function(t){n(t).insertBefore(e)}),this},te.prepend=function(){var e=this;return o(arguments,function(t){F(e,t,!0)}),this},te.prependTo=function(e){return F(n(e),W.apply(this.slice()),!0),this},te.remove=function(){return this.detach().off()},te.replaceWith=function(e){var t=this;return this.each(function(a,i){var o=i.parentNode;if(o){var r=a?n(e).clone():n(e);return r[0]?void(o.replaceChild(r[0],i),n(r[0]).after(r.slice(1))):(t.remove(),!1)}})},te.replaceAll=function(e){return n(e).replaceWith(this),this},te.text=function(e){return void 0===e?this[0]?this[0].textContent:"":this.each(function(t,n){n.textContent=e})};var be=$.documentElement;te.offset=function(){var e=this[0];if(e){var t=e.getBoundingClientRect();return{top:t.top+U.pageYOffset-be.clientTop,left:t.left+U.pageXOffset-be.clientLeft}}},te.offsetParent=function(){return n(this[0]&&this[0].offsetParent)},te.position=function(){var e=this[0];return e?{left:e.offsetLeft,top:e.offsetTop}:void 0},te.children=function(e){var t=[];return this.each(function(e,n){q.apply(t,n.children)}),t=n(b(t)),e?t.filter(function(t,n){return r(n,e)}):t},te.contents=function(){var e=[];return this.each(function(t,n){q.apply(e,"IFRAME"===n.tagName?[n.contentDocument]:n.childNodes)}),n(e.length&&b(e))},te.find=function(t){for(var a=[],o=0,r=this.length,s;o<r;o++)s=e(t,this[o]),s.length&&q.apply(a,s);return n(a.length&&b(a))},te.has=function(t){var n=c(t)?function(n,a){return!!e(t,a).length}:function(e,n){return n.contains(t)};return this.filter(n)},te.is=function(e){if(!e||!this[0])return!1;var t=u(e),n=!1;return this.each(function(a,i){return n=t(a,i,e),!n}),n},te.next=function(){return n(this[0]&&this[0].nextElementSibling)},te.not=function(e){if(!e||!this[0])return this;var t=u(e);return this.filter(function(n,a){return!t(n,a,e)})},te.parent=function(){var e=[];return this.each(function(t,n){n&&n.parentNode&&e.push(n.parentNode)}),n(b(e))},te.index=function(e){var t=e?n(e)[0]:this[0],a=e?this:n(t).parent().children();return K.call(a,t)},te.closest=function(e){return e&&this[0]?this.is(e)?this.filter(e):this.parent().closest(e):n()},te.parents=function(e){var t=[],a;return this.each(function(n,i){for(a=i;a&&a.parentNode&&a!==$.body.parentNode;)a=a.parentNode,(!e||e&&r(a,e))&&t.push(a)}),n(b(t))},te.prev=function(){return n(this[0]&&this[0].previousElementSibling)},te.siblings=function(){var e=this[0];return this.parent().children().filter(function(t,n){return n!==e})}}(),function(){var e=Math.floor,t=Math.min,a=Math.max,i="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||this||{},o=i._,r=Array.prototype,s=Object.prototype,l="undefined"==typeof Symbol?null:Symbol.prototype,c=r.push,p=r.slice,u=s.toString,h=s.hasOwnProperty,g=Array.isArray,f=Object.keys,b=Object.create,S=function(){},E=function(e){return e instanceof E?e:this instanceof E?void(this._wrapped=e):new E(e)};"undefined"==typeof exports||exports.nodeType?i._=E:("undefined"!=typeof module&&!module.nodeType&&module.exports&&(exports=module.exports=E),exports._=E),E.VERSION="1.9.1";var v=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,a,i){return e.call(t,n,a,i)};case 4:return function(n,a,i,o){return e.call(t,n,a,i,o)};}return function(){return e.apply(t,arguments)}},x=function(e,t,a){return E.iteratee===n?null==e?E.identity:E.isFunction(e)?v(e,t,a):E.isObject(e)&&!E.isArray(e)?E.matcher(e):E.property(e):E.iteratee(e,t)},n;E.iteratee=n=function(e,t){return x(e,t,1/0)};var _=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=a(arguments.length-t,0),i=Array(n),o=0;o<n;o++)i[o]=arguments[o+t];switch(t){case 0:return e.call(this,i);case 1:return e.call(this,arguments[0],i);case 2:return e.call(this,arguments[0],arguments[1],i);}var r=Array(t+1);for(o=0;o<t;o++)r[o]=arguments[o];return r[t]=i,e.apply(this,r)}},T=function(e){if(!E.isObject(e))return{};if(b)return b(e);S.prototype=e;var t=new S;return S.prototype=null,t},C=function(e){return function(t){return null==t?void 0:t[e]}},O=function(e,t){return null!=e&&h.call(e,t)},N=function(e,t){for(var n=t.length,a=0;a<n;a++){if(null==e)return;e=e[t[a]]}return n?e:void 0},w=Math.pow(2,53)-1,M=C("length"),I=function(e){var t=M(e);return"number"==typeof t&&0<=t&&t<=w};E.each=E.forEach=function(e,t,n){t=v(t,n);var a,o;if(I(e))for(a=0,o=e.length;a<o;a++)t(e[a],a,e);else{var r=E.keys(e);for(a=0,o=r.length;a<o;a++)t(e[r[a]],r[a],e)}return e},E.map=E.collect=function(e,t,n){t=x(t,n);for(var a=!I(e)&&E.keys(e),i=(a||e).length,o=Array(i),r=0,s;r<i;r++)s=a?a[r]:r,o[r]=t(e[s],s,e);return o};var k=function(e){var t=function(t,n,a,i){var o=!I(t)&&E.keys(t),r=(o||t).length,s=0<e?0:r-1;for(i||(a=t[o?o[s]:s],s+=e);0<=s&&s<r;s+=e){var l=o?o[s]:s;a=n(a,t[l],l,t)}return a};return function(e,n,a,i){var o=3<=arguments.length;return t(e,v(n,i,4),a,o)}};E.reduce=E.foldl=E.inject=k(1),E.reduceRight=E.foldr=k(-1),E.find=E.detect=function(e,t,n){var a=I(e)?E.findIndex:E.findKey,i=a(e,t,n);if(void 0!==i&&-1!==i)return e[i]},E.filter=E.select=function(e,t,n){var a=[];return t=x(t,n),E.each(e,function(e,n,i){t(e,n,i)&&a.push(e)}),a},E.reject=function(e,t,n){return E.filter(e,E.negate(x(t)),n)},E.every=E.all=function(e,t,n){t=x(t,n);for(var a=!I(e)&&E.keys(e),i=(a||e).length,o=0,r;o<i;o++)if(r=a?a[o]:o,!t(e[r],r,e))return!1;return!0},E.some=E.any=function(e,t,n){t=x(t,n);for(var a=!I(e)&&E.keys(e),i=(a||e).length,o=0,r;o<i;o++)if(r=a?a[o]:o,t(e[r],r,e))return!0;return!1},E.contains=E.includes=E.include=function(e,t,n,a){return I(e)||(e=E.values(e)),("number"!=typeof n||a)&&(n=0),0<=E.indexOf(e,t,n)},E.invoke=_(function(e,t,n){var a,i;return E.isFunction(t)?i=t:E.isArray(t)&&(a=t.slice(0,-1),t=t[t.length-1]),E.map(e,function(e){var o=i;if(!o){if(a&&a.length&&(e=N(e,a)),null==e)return;o=e[t]}return null==o?o:o.apply(e,n)})}),E.pluck=function(e,t){return E.map(e,E.property(t))},E.where=function(e,t){return E.filter(e,E.matcher(t))},E.findWhere=function(e,t){return E.find(e,E.matcher(t))},E.max=function(e,t,n){var a=-Infinity,o=-Infinity,r,s;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=I(e)?e:E.values(e);for(var l=0,c=e.length;l<c;l++)r=e[l],null!=r&&r>a&&(a=r)}else t=x(t,n),E.each(e,function(e,n,i){s=t(e,n,i),(s>o||s===-Infinity&&a===-Infinity)&&(a=e,o=s)});return a},E.min=function(e,t,n){var a=1/0,o=1/0,r,s;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=I(e)?e:E.values(e);for(var l=0,c=e.length;l<c;l++)r=e[l],null!=r&&r<a&&(a=r)}else t=x(t,n),E.each(e,function(e,n,i){s=t(e,n,i),(s<o||s===1/0&&a===1/0)&&(a=e,o=s)});return a},E.shuffle=function(e){return E.sample(e,1/0)},E.sample=function(e,i,o){if(null==i||o)return I(e)||(e=E.values(e)),e[E.random(e.length-1)];var r=I(e)?E.clone(e):E.values(e),s=M(r);i=a(t(i,s),0);for(var l=0;l<i;l++){var c=E.random(l,s-1),p=r[l];r[l]=r[c],r[c]=p}return r.slice(0,i)},E.sortBy=function(e,t,n){var a=0;return t=x(t,n),E.pluck(E.map(e,function(e,n,i){return{value:e,index:a++,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,a=t.criteria;if(n!==a){if(n>a||void 0===n)return 1;if(n<a||void 0===a)return-1}return e.index-t.index}),"value")};var A=function(e,t){return function(n,a,i){var o=t?[[],[]]:{};return a=x(a,i),E.each(n,function(t,i){var r=a(t,i,n);e(o,t,r)}),o}};E.groupBy=A(function(e,t,n){O(e,n)?e[n].push(t):e[n]=[t]}),E.indexBy=A(function(e,t,n){e[n]=t}),E.countBy=A(function(e,t,n){O(e,n)?e[n]++:e[n]=1});var D=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;E.toArray=function(e){return e?E.isArray(e)?p.call(e):E.isString(e)?e.match(D):I(e)?E.map(e,E.identity):E.values(e):[]},E.size=function(e){return null==e?0:I(e)?e.length:E.keys(e).length},E.partition=A(function(e,t,n){e[n?0:1].push(t)},!0),E.first=E.head=E.take=function(e,t,n){return null==e||1>e.length?null==t?void 0:[]:null==t||n?e[0]:E.initial(e,e.length-t)},E.initial=function(e,t,n){return p.call(e,0,a(0,e.length-(null==t||n?1:t)))},E.last=function(e,t,n){return null==e||1>e.length?null==t?void 0:[]:null==t||n?e[e.length-1]:E.rest(e,a(0,e.length-t))},E.rest=E.tail=E.drop=function(e,t,n){return p.call(e,null==t||n?1:t)},E.compact=function(e){return E.filter(e,Boolean)};var L=function(e,t,n,a){a=a||[];for(var o=a.length,r=0,s=M(e),l;r<s;r++)if(l=e[r],!(I(l)&&(E.isArray(l)||E.isArguments(l))))n||(a[o++]=l);else if(t)for(var c=0,p=l.length;c<p;)a[o++]=l[c++];else L(l,t,n,a),o=a.length;return a};E.flatten=function(e,t){return L(e,t,!1)},E.without=_(function(e,t){return E.difference(e,t)}),E.uniq=E.unique=function(e,t,n,a){E.isBoolean(t)||(a=n,n=t,t=!1),null!=n&&(n=x(n,a));for(var o=[],r=[],s=0,l=M(e);s<l;s++){var c=e[s],p=n?n(c,s,e):c;t&&!n?((!s||r!==p)&&o.push(c),r=p):n?!E.contains(r,p)&&(r.push(p),o.push(c)):!E.contains(o,c)&&o.push(c)}return o},E.union=_(function(e){return E.uniq(L(e,!0,!0))}),E.intersection=function(e){for(var t=[],n=arguments.length,a=0,o=M(e),r;a<o;a++)if(r=e[a],!E.contains(t,r)){var s;for(s=1;s<n&&!!E.contains(arguments[s],r);s++);s===n&&t.push(r)}return t},E.difference=_(function(e,t){return t=L(t,!0,!0),E.filter(e,function(e){return!E.contains(t,e)})}),E.unzip=function(e){for(var t=e&&E.max(e,M).length||0,n=Array(t),a=0;a<t;a++)n[a]=E.pluck(e,a);return n},E.zip=_(E.unzip),E.object=function(e,t){for(var n={},a=0,o=M(e);a<o;a++)t?n[e[a]]=t[a]:n[e[a][0]]=e[a][1];return n};var H=function(e){return function(t,n,a){n=x(n,a);for(var i=M(t),o=0<e?0:i-1;0<=o&&o<i;o+=e)if(n(t[o],o,t))return o;return-1}};E.findIndex=H(1),E.findLastIndex=H(-1),E.sortedIndex=function(t,n,a,i){a=x(a,i,1);for(var o=a(n),r=0,s=M(t);r<s;){var l=e((r+s)/2);a(t[l])<o?r=l+1:s=l}return r};var j=function(e,n,o){return function(r,s,l){var c=0,u=M(r);if("number"==typeof l)0<e?c=0<=l?l:a(l+u,c):u=0<=l?t(l+1,u):l+u+1;else if(o&&l&&u)return l=o(r,s),r[l]===s?l:-1;if(s!==s)return l=n(p.call(r,c,u),E.isNaN),0<=l?l+c:-1;for(l=0<e?c:u-1;0<=l&&l<u;l+=e)if(r[l]===s)return l;return-1}};E.indexOf=j(1,E.findIndex,E.sortedIndex),E.lastIndexOf=j(-1,E.findLastIndex),E.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var i=a(Math.ceil((t-e)/n),0),o=Array(i),r=0;r<i;r++,e+=n)o[r]=e;return o},E.chunk=function(e,t){if(null==t||1>t)return[];for(var n=[],a=0,o=e.length;a<o;)n.push(p.call(e,a,a+=t));return n};var R=function(e,t,n,a,i){if(!(a instanceof t))return e.apply(n,i);var o=T(e.prototype),r=e.apply(o,i);return E.isObject(r)?r:o};E.bind=_(function(e,t,n){if(!E.isFunction(e))throw new TypeError("Bind must be called on a function");var a=_(function(i){return R(e,a,t,this,n.concat(i))});return a}),E.partial=_(function(e,t){var n=E.partial.placeholder,a=function(){for(var o=0,r=t.length,s=Array(r),l=0;l<r;l++)s[l]=t[l]===n?arguments[o++]:t[l];for(;o<arguments.length;)s.push(arguments[o++]);return R(e,a,this,this,s)};return a}),E.partial.placeholder=E,E.bindAll=_(function(e,t){t=L(t,!1,!1);var n=t.length;if(1>n)throw new Error("bindAll must be passed function names");for(;n--;){var a=t[n];e[a]=E.bind(e[a],e)}}),E.memoize=function(e,t){var n=function(a){var i=n.cache,o=""+(t?t.apply(this,arguments):a);return O(i,o)||(i[o]=e.apply(this,arguments)),i[o]};return n.cache={},n},E.delay=_(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),E.defer=E.partial(E.delay,E,1),E.throttle=function(e,t,n){var a=0,i,o,r,s;n||(n={});var l=function(){a=!1===n.leading?0:E.now(),i=null,s=e.apply(o,r),i||(o=r=null)},c=function(){var c=E.now();a||!1!==n.leading||(a=c);var p=t-(c-a);return o=this,r=arguments,0>=p||p>t?(i&&(clearTimeout(i),i=null),a=c,s=e.apply(o,r),!i&&(o=r=null)):!i&&!1!==n.trailing&&(i=setTimeout(l,p)),s};return c.cancel=function(){clearTimeout(i),a=0,i=o=r=null},c},E.debounce=function(e,t,n){var a=function(t,n){o=null,n&&(r=e.apply(t,n))},i=_(function(i){if(o&&clearTimeout(o),n){var s=!o;o=setTimeout(a,t),s&&(r=e.apply(this,i))}else o=E.delay(a,t,this,i);return r}),o,r;return i.cancel=function(){clearTimeout(o),o=null},i},E.wrap=function(e,t){return E.partial(t,e)},E.negate=function(e){return function(){return!e.apply(this,arguments)}},E.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,a=e[t].apply(this,arguments);n--;)a=e[n].call(this,a);return a}},E.after=function(e,t){return function(){if(1>--e)return t.apply(this,arguments)}},E.before=function(e,t){var n;return function(){return 0<--e&&(n=t.apply(this,arguments)),1>=e&&(t=null),n}},E.once=E.partial(E.before,2),E.restArguments=_;var P=!{toString:null}.propertyIsEnumerable("toString"),B=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],F=function(e,t){var n=B.length,a=e.constructor,i=E.isFunction(a)&&a.prototype||s,o="constructor";for(O(e,o)&&!E.contains(t,o)&&t.push(o);n--;)o=B[n],o in e&&e[o]!==i[o]&&!E.contains(t,o)&&t.push(o)};E.keys=function(e){if(!E.isObject(e))return[];if(f)return f(e);var t=[];for(var n in e)O(e,n)&&t.push(n);return P&&F(e,t),t},E.allKeys=function(e){if(!E.isObject(e))return[];var t=[];for(var n in e)t.push(n);return P&&F(e,t),t},E.values=function(e){for(var t=E.keys(e),n=t.length,a=Array(n),o=0;o<n;o++)a[o]=e[t[o]];return a},E.mapObject=function(e,t,n){t=x(t,n);for(var a=E.keys(e),i=a.length,o={},r=0,s;r<i;r++)s=a[r],o[s]=t(e[s],s,e);return o},E.pairs=function(e){for(var t=E.keys(e),n=t.length,a=Array(n),o=0;o<n;o++)a[o]=[t[o],e[t[o]]];return a},E.invert=function(e){for(var t={},n=E.keys(e),a=0,o=n.length;a<o;a++)t[e[n[a]]]=n[a];return t},E.functions=E.methods=function(e){var t=[];for(var n in e)E.isFunction(e[n])&&t.push(n);return t.sort()};var $=function(e,t){return function(n){var a=arguments.length;if(t&&(n=Object(n)),2>a||null==n)return n;for(var o=1;o<a;o++)for(var r=arguments[o],s=e(r),c=s.length,l=0,p;l<c;l++)p=s[l],t&&void 0!==n[p]||(n[p]=r[p]);return n}};E.extend=$(E.allKeys),E.extendOwn=E.assign=$(E.keys),E.findKey=function(e,t,n){t=x(t,n);for(var a=E.keys(e),o=0,r=a.length,s;o<r;o++)if(s=a[o],t(e[s],s,e))return s};var U=function(e,t,n){return t in n};E.pick=_(function(e,t){var n={},a=t[0];if(null==e)return n;E.isFunction(a)?(1<t.length&&(a=v(a,t[1])),t=E.allKeys(e)):(a=U,t=L(t,!1,!1),e=Object(e));for(var o=0,r=t.length;o<r;o++){var s=t[o],l=e[s];a(l,s,e)&&(n[s]=l)}return n}),E.omit=_(function(e,t){var n=t[0],a;return E.isFunction(n)?(n=E.negate(n),1<t.length&&(a=t[1])):(t=E.map(L(t,!1,!1),String),n=function(e,n){return!E.contains(t,n)}),E.pick(e,n,a)}),E.defaults=$(E.allKeys,!0),E.create=function(e,t){var n=T(e);return t&&E.extendOwn(n,t),n},E.clone=function(e){return E.isObject(e)?E.isArray(e)?e.slice():E.extend({},e):e},E.tap=function(e,t){return t(e),e},E.isMatch=function(e,t){var n=E.keys(t),a=n.length;if(null==e)return!a;for(var o=Object(e),r=0,s;r<a;r++)if(s=n[r],t[s]!==o[s]||!(s in o))return!1;return!0};var Y,z;Y=function(e,t,n,a){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var i=typeof e;return("function"==i||"object"==i||"object"==typeof t)&&z(e,t,n,a)},z=function(e,t,n,i){e instanceof E&&(e=e._wrapped),t instanceof E&&(t=t._wrapped);var o=u.call(e);if(o!==u.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e==+e?0==+e?1/+e==1/t:+e==+t:+t!=+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return l.valueOf.call(e)===l.valueOf.call(t);}var r="[object Array]"===o;if(!r){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,c=t.constructor;if(s!==c&&!(E.isFunction(s)&&s instanceof s&&E.isFunction(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var p=n.length;p--;)if(n[p]===e)return i[p]===t;if(n.push(e),i.push(t),r){if(p=e.length,p!==t.length)return!1;for(;p--;)if(!Y(e[p],t[p],n,i))return!1}else{var h=E.keys(e),g;if(p=h.length,E.keys(t).length!==p)return!1;for(;p--;)if(g=h[p],!(O(t,g)&&Y(e[g],t[g],n,i)))return!1}return n.pop(),i.pop(),!0},E.isEqual=function(e,t){return Y(e,t)},E.isEmpty=function(e){return!(null!=e)||(I(e)&&(E.isArray(e)||E.isString(e)||E.isArguments(e))?0===e.length:0===E.keys(e).length)},E.isElement=function(e){return!!(e&&1===e.nodeType)},E.isArray=g||function(e){return"[object Array]"===u.call(e)},E.isObject=function(e){var t=typeof e;return"function"==t||"object"==t&&!!e},E.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){E["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}}),E.isArguments(arguments)||(E.isArguments=function(e){return O(e,"callee")});var K=i.document&&i.document.childNodes;"function"!=typeof /./&&"object"!=typeof Int8Array&&"function"!=typeof K&&(E.isFunction=function(e){return"function"==typeof e||!1}),E.isFinite=function(e){return!E.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},E.isNaN=function(e){return E.isNumber(e)&&isNaN(e)},E.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===u.call(e)},E.isNull=function(e){return null===e},E.isUndefined=function(e){return void 0===e},E.has=function(e,t){if(!E.isArray(t))return O(e,t);for(var n=t.length,a=0,o;a<n;a++){if(o=t[a],null==e||!h.call(e,o))return!1;e=e[o]}return!!n},E.noConflict=function(){return i._=o,this},E.identity=function(e){return e},E.constant=function(e){return function(){return e}},E.noop=function(){},E.property=function(e){return E.isArray(e)?function(t){return N(t,e)}:C(e)},E.propertyOf=function(e){return null==e?function(){}:function(t){return E.isArray(t)?N(e,t):e[t]}},E.matcher=E.matches=function(e){return e=E.extendOwn({},e),function(t){return E.isMatch(t,e)}},E.times=function(e,t,n){var o=Array(a(0,e));t=v(t,n,1);for(var r=0;r<e;r++)o[r]=t(r);return o},E.random=function(t,n){return null==n&&(n=t,t=0),t+e(Math.random()*(n-t+1))},E.now=Date.now||function(){return new Date().getTime()};var X={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},q=E.invert(X),W=function(e){var t=function(t){return e[t]},n="(?:"+E.keys(e).join("|")+")",a=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,a.test(e)?e.replace(i,t):e}};E.escape=W(X),E.unescape=W(q),E.result=function(e,t,n){E.isArray(t)||(t=[t]);var a=t.length;if(!a)return E.isFunction(n)?n.call(e):n;for(var o=0,r;o<a;o++)r=null==e?void 0:e[t[o]],void 0===r&&(r=n,o=a),e=E.isFunction(r)?r.call(e):r;return e};var V=0;E.uniqueId=function(e){var t=++V+"";return e?e+t:t},E.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,G={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Z=/\\|'|\r|\n|\u2028|\u2029/g,Q=function(e){return"\\"+G[e]};E.template=function(e,t,n){!t&&n&&(t=n),t=E.defaults({},t,E.templateSettings);var a=RegExp([(t.escape||J).source,(t.interpolate||J).source,(t.evaluate||J).source].join("|")+"|$","g"),i=0,o="__p+='";e.replace(a,function(t,n,a,r,s){return o+=e.slice(i,s).replace(Z,Q),i=s+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":a?o+="'+\n((__t=("+a+"))==null?'':__t)+\n'":r&&(o+="';\n"+r+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";var r;try{r=new Function(t.variable||"obj","_",o)}catch(t){throw t.source=o,t}var s=function(e){return r.call(this,e,E)},l=t.variable||"obj";return s.source="function("+l+"){\n"+o+"}",s},E.chain=function(e){var t=E(e);return t._chain=!0,t};var ee=function(e,t){return e._chain?E(t).chain():t};E.mixin=function(e){return E.each(E.functions(e),function(t){var n=E[t]=e[t];E.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),ee(this,n.apply(E,e))}}),E},E.mixin(E),E.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=r[e];E.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),("shift"===e||"splice"===e)&&0===n.length&&delete n[0],ee(this,n)}}),E.each(["concat","join","slice"],function(e){var t=r[e];E.prototype[e]=function(){return ee(this,t.apply(this._wrapped,arguments))}}),E.prototype.value=function(){return this._wrapped},E.prototype.valueOf=E.prototype.toJSON=E.prototype.value,E.prototype.toString=function(){return this._wrapped+""},"function"==typeof define&&define.amd&&define("underscore",[],function(){return E})}(),function(e){var t="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global;if("function"==typeof define&&define.amd)define(["conSense/lib/underscore","jquery","exports"],function(n,a,i){t.Backbone=e(t,i,n,a)});else if("undefined"!=typeof exports){var n=require("conSense/lib/underscore"),a;try{a=require("jquery")}catch(t){}e(t,exports,n,a)}else t.Backbone=e(t,{},t._,t.jQuery||t.Zepto||t.ender||t.$)}(function(e,t,n,a){var o=Math.max,r=e.Backbone,s=Array.prototype.slice;t.VERSION="1.3.3",t.$=a,t.noConflict=function(){return e.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var l=t.Events={},c=/\s+/,p=function(e,t,a,o,r){var s=0,l;if(a&&"object"==typeof a)for(void 0!==o&&("context"in r)&&void 0===r.context&&(r.context=o),l=n.keys(a);s<l.length;s++)t=p(e,t,l[s],a[l[s]],r);else if(a&&c.test(a))for(l=a.split(c);s<l.length;s++)t=e(t,l[s],o,r);else t=e(t,a,o,r);return t},u;l.on=function(e,t,n){if(this._events=p(h,this._events||{},e,t,{context:n,ctx:this,listening:u}),u){var a=this._listeners||(this._listeners={});a[u.id]=u,u.interop=!1}return this},l.listenTo=function(e,t,a){if(!e)return this;var i=e._listenId||(e._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),r=u=o[i];r||(this._listenId||(this._listenId=n.uniqueId("l")),r=u=o[i]=new v(this,e));var s=g(e,t,a,this);if(u=void 0,s)throw s;return r.interop&&r.on(t,a),this};var h=function(e,t,n,a){if(n){var i=e[t]||(e[t]=[]),o=a.context,r=a.ctx,s=a.listening;s&&s.count++,i.push({callback:n,context:o,ctx:o||r,listening:s})}return e},g=function(e,t,n,a){try{e.on(t,n,a)}catch(t){return t}};l.off=function(e,t,n){return this._events?(this._events=p(f,this._events,e,t,{context:n,listeners:this._listeners}),this):this},l.stopListening=function(e,t,a){var o=this._listeningTo;if(!o)return this;for(var r=e?[e._listenId]:n.keys(o),s=0,l;s<r.length&&(l=o[r[s]],!!l);s++)l.obj.off(t,a,this),l.interop&&l.off(t,a);return n.isEmpty(o)&&(this._listeningTo=void 0),this};var f=function(e,t,a,o){if(e){var r=o.context,s=o.listeners,l=0,c;if(!t&&!r&&!a){for(c=n.keys(s);l<c.length;l++)s[c[l]].cleanup();return}for(c=t?[t]:n.keys(e);l<c.length;l++){t=c[l];var p=e[t];if(!p)break;for(var u=[],h=0,g;h<p.length;h++)if(g=p[h],a&&a!==g.callback&&a!==g.callback._callback||r&&r!==g.context)u.push(g);else{var f=g.listening;f&&f.off(t,a)}u.length?e[t]=u:delete e[t]}return e}};l.once=function(e,t,n){var a=p(b,{},e,t,this.off.bind(this));return"string"==typeof e&&null==n&&(t=void 0),this.on(a,t,n)},l.listenToOnce=function(e,t,n){var a=p(b,{},t,n,this.stopListening.bind(this,e));return this.listenTo(e,a)};var b=function(e,t,a,i){if(a){var o=e[t]=n.once(function(){i(t,o),a.apply(this,arguments)});o._callback=a}return e};l.trigger=function(e){if(!this._events)return this;for(var t=o(0,arguments.length-1),n=Array(t),a=0;a<t;a++)n[a]=arguments[a+1];return p(S,this._events,e,void 0,n),this};var S=function(e,t,n,a){if(e){var i=e[t],o=e.all;i&&o&&(o=o.slice()),i&&E(i,a),o&&E(o,[t].concat(a))}return e},E=function(e,t){var n=-1,a=e.length,o=t[0],r=t[1],s=t[2],l;switch(t.length){case 0:for(;++n<a;)(l=e[n]).callback.call(l.ctx);return;case 1:for(;++n<a;)(l=e[n]).callback.call(l.ctx,o);return;case 2:for(;++n<a;)(l=e[n]).callback.call(l.ctx,o,r);return;case 3:for(;++n<a;)(l=e[n]).callback.call(l.ctx,o,r,s);return;default:for(;++n<a;)(l=e[n]).callback.apply(l.ctx,t);}},v=function(e,t){this.id=e._listenId,this.listener=e,this.obj=t,this.interop=!0,this.count=0,this._events=void 0};v.prototype.on=l.on,v.prototype.off=function(e,t){var n;this.interop?(this._events=p(f,this._events,e,t,{context:void 0,listeners:void 0}),n=!this._events):(this.count--,n=0===this.count),n&&this.cleanup()},v.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},l.bind=l.on,l.unbind=l.off,n.extend(t,l);var x=t.Model=function(e,t){var a=e||{};t||(t={}),this.preinitialize.apply(this,arguments),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(a=this.parse(a,t)||{});var i=n.result(this,"defaults");a=n.defaults(n.extend({},i,a),i),this.set(a,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(x.prototype,l,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,a){if(null==e)return this;var o;if("object"==typeof e?(o=e,a=t):(o={})[e]=t,a||(a={}),!this._validate(o,a))return!1;var r=a.unset,s=a.silent,l=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=n.clone(this.attributes),this.changed={});var p=this.attributes,u=this.changed,h=this._previousAttributes;for(var g in o)t=o[g],n.isEqual(p[g],t)||l.push(g),n.isEqual(h[g],t)?delete u[g]:u[g]=t,r?delete p[g]:p[g]=t;if(this.idAttribute in o&&(this.id=this.get(this.idAttribute)),!s){l.length&&(this._pending=a);for(var f=0;f<l.length;f++)this.trigger("change:"+l[f],this,p[l[f]],a)}if(c)return this;if(!s)for(;this._pending;)a=this._pending,this._pending=!1,this.trigger("change",this,a);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var a in this.attributes)t[a]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,a={},i;for(var o in e){var r=e[o];n.isEqual(t[o],r)||(a[o]=r,i=!0)}return!!i&&a},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,a=e.success;return e.success=function(n){var i=e.parse?t.parse(n,e):n;return!!t.set(i,e)&&void(a&&a.call(e.context,t,n,e),t.trigger("sync",t,n,e))},V(this,e),this.sync("read",this,e)},save:function(e,t,a){var i;null==e||"object"==typeof e?(i=e,a=t):(i={})[e]=t,a=n.extend({validate:!0,parse:!0},a);var o=a.wait;if(i&&!o){if(!this.set(i,a))return!1;}else if(!this._validate(i,a))return!1;var r=this,s=a.success,l=this.attributes;a.success=function(e){r.attributes=l;var t=a.parse?r.parse(e,a):e;return o&&(t=n.extend({},i,t)),(!t||r.set(t,a))&&void(s&&s.call(a.context,r,e,a),r.trigger("sync",r,e,a))},V(this,a),i&&o&&(this.attributes=n.extend({},l,i));var c=this.isNew()?"create":a.patch?"patch":"update";"patch"!=c||a.attrs||(a.attrs=i);var p=this.sync(c,this,a);return this.attributes=l,p},destroy:function(e){e=e?n.clone(e):{};var t=this,a=e.success,i=e.wait,o=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){i&&o(),a&&a.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var r=!1;return this.isNew()?n.defer(e.success):(V(this,e),r=this.sync("delete",this,e)),i||o(),r},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||W();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend({},e,{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var a=this.validationError=this.validate(e,t)||null;return!a||(this.trigger("invalid",this,a,n.extend(t,{validationError:a})),!1)}});var _=t.Collection=function(e,t){t||(t={}),this.preinitialize.apply(this,arguments),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},T={add:!0,remove:!0,merge:!0},C={add:!0,remove:!1},O=function(e,t,n){n=Math.min(o(n,0),e.length);var a=Array(e.length-n),r=t.length,s;for(s=0;s<a.length;s++)a[s]=e[s+n];for(s=0;s<r;s++)e[s+n]=t[s];for(s=0;s<a.length;s++)e[s+r+n]=a[s]};n.extend(_.prototype,l,{model:x,preinitialize:function(){},initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,C))},remove:function(e,t){t=n.extend({},t);var a=!n.isArray(e);e=a?[e]:e.slice();var i=this._removeModels(e,t);return!t.silent&&i.length&&(t.changes={added:[],merged:[],removed:i},this.trigger("update",this,t)),a?i[0]:i},set:function(e,t){if(null!=e){t=n.extend({},T,t),t.parse&&!this._isModel(e)&&(e=this.parse(e,t)||[]);var a=!n.isArray(e);e=a?[e]:e.slice();var o=t.at;null!=o&&(o=+o),o>this.length&&(o=this.length),0>o&&(o+=this.length+1);var r=[],s=[],l=[],c=[],p={},u=t.add,h=t.merge,g=t.remove,f=!1,b=this.comparator&&null==o&&!1!==t.sort,S=n.isString(this.comparator)?this.comparator:null,E,v;for(v=0;v<e.length;v++){E=e[v];var x=this.get(E);if(x){if(h&&E!==x){var _=this._isModel(E)?E.attributes:E;t.parse&&(_=x.parse(_,t)),x.set(_,t),l.push(x),b&&!f&&(f=x.hasChanged(S))}p[x.cid]||(p[x.cid]=!0,r.push(x)),e[v]=x}else u&&(E=e[v]=this._prepareModel(E,t),E&&(s.push(E),this._addReference(E,t),p[E.cid]=!0,r.push(E)))}if(g){for(v=0;v<this.length;v++)E=this.models[v],p[E.cid]||c.push(E);c.length&&this._removeModels(c,t)}var C=!1;if(r.length&&!b&&u&&g?(C=this.length!==r.length||n.some(this.models,function(e,t){return e!==r[t]}),this.models.length=0,O(this.models,r,0),this.length=this.models.length):s.length&&(b&&(f=!0),O(this.models,s,null==o?this.length:o),this.length=this.models.length),f&&this.sort({silent:!0}),!t.silent){for(v=0;v<s.length;v++)null!=o&&(t.index=o+v),E=s[v],E.trigger("add",E,this,t);(f||C)&&this.trigger("sort",this,t),(s.length||c.length||l.length)&&(t.changes={added:s,removed:c,merged:l},this.trigger("update",this,t))}return a?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var a=0;a<this.models.length;a++)this._removeReference(this.models[a],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return s.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e]||this._byId[this.modelId(this._isModel(e)?e.attributes:e)]||e.cid&&this._byId[e.cid]},has:function(e){return null!=this.get(e)},at:function(e){return 0>e&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var a=t.length;return n.isFunction(t)&&(t=t.bind(this)),1===a||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return this.map(e+"")},fetch:function(e){e=n.extend({parse:!0},e);var t=e.success,a=this;return e.success=function(n){var i=e.reset?"reset":"set";a[i](n,e),t&&t.call(e.context,a,n,e),a.trigger("sync",a,n,e)},V(this,e),this.sync("read",this,e)},create:function(e,t){t=t?n.clone(t):{};var a=t.wait;if(e=this._prepareModel(e,t),!e)return!1;a||this.add(e,t);var i=this,o=t.success;return t.success=function(e,t,n){a&&i.add(e,n),o&&o.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},values:function(){return new w(this,M)},keys:function(){return new w(this,I)},entries:function(){return new w(this,k)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;t=t?n.clone(t):{},t.collection=this;var a=new this.model(e,t);return a.validationError?(this.trigger("invalid",this,a.validationError,t),!1):a},_removeModels:function(e,t){for(var n=[],a=0,o;a<e.length;a++)if(o=this.get(e[a]),o){var r=this.indexOf(o);this.models.splice(r,1),this.length--,delete this._byId[o.cid];var s=this.modelId(o.attributes);null!=s&&delete this._byId[s],t.silent||(t.index=r,o.trigger("remove",o,this,t)),n.push(o),this._removeReference(o,t)}return n},_isModel:function(e){return e instanceof x},_addReference:function(e){this._byId[e.cid]=e;var t=this.modelId(e.attributes);null!=t&&(this._byId[t]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e){delete this._byId[e.cid];var t=this.modelId(e.attributes);null!=t&&delete this._byId[t],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,a){if(t){if(("add"===e||"remove"===e)&&n!==this)return;if("destroy"===e&&this.remove(t,a),"change"===e){var i=this.modelId(t.previousAttributes()),o=this.modelId(t.attributes);i!==o&&(null!=i&&delete this._byId[i],null!=o&&(this._byId[o]=t))}}this.trigger.apply(this,arguments)}});var N="function"==typeof Symbol&&Symbol.iterator;N&&(_.prototype[N]=_.prototype.values);var w=function(e,t){this._collection=e,this._kind=t,this._index=0},M=1,I=2,k=3;N&&(w.prototype[N]=function(){return this}),w.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var e=this._collection.at(this._index);this._index++;var t;if(this._kind===M)t=e;else{var n=this._collection.modelId(e.attributes);t=this._kind===I?n:[n,e]}return{value:t,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var A=t.View=function(e){this.cid=n.uniqueId("view"),this.preinitialize.apply(this,arguments),n.extend(this,n.pick(e,L)),this._ensureElement(),this.initialize.apply(this,arguments)},D=/^(\S+)\s*(.*)$/,L=["model","collection","el","id","attributes","className","tagName","events"];n.extend(A.prototype,l,{tagName:"div",$:function(e){return this.$el.find(e)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var a=e[t];if(n.isFunction(a)||(a=this[a]),a){var i=t.match(D);this.delegate(i[1],i[2],a.bind(this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(!this.el){var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}else this.setElement(n.result(this,"el"))},_setAttributes:function(e){this.$el.attr(e)}});var H=function(e,t,n,a){return 1===t?function(){return e[n](this[a])}:2===t?function(t){return e[n](this[a],t)}:3===t?function(t,i){return e[n](this[a],R(t,this),i)}:4===t?function(t,i,o){return e[n](this[a],R(t,this),i,o)}:function(){var t=s.call(arguments);return t.unshift(this[a]),e[n].apply(e,t)}},j=function(e,t,a,i){n.each(a,function(n,a){t[a]&&(e.prototype[a]=H(t,n,a,i))})},R=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?i(e):n.isString(e)?function(t){return t.get(e)}:e},i=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}};n.each([[_,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[x,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],function(e){var t=e[0],a=e[1],i=e[2];t.mixin=function(e){var a=n.reduce(n.functions(e),function(e,t){return e[t]=0,e},{});j(t,e,a,i)},j(t,n,a,i)}),t.sync=function(e,a,i){var o=P[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var r={type:o,dataType:"json"};if(i.url||(r.url=n.result(a,"url")||W()),null==i.data&&a&&("create"===e||"update"===e||"patch"===e)&&(r.contentType="application/json",r.data=JSON.stringify(i.attrs||a.toJSON(i))),i.emulateJSON&&(r.contentType="application/x-www-form-urlencoded",r.data=r.data?{model:r.data}:{}),i.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){r.type="POST",i.emulateJSON&&(r.data._method=o);var s=i.beforeSend;i.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",o),s)return s.apply(this,arguments)}}"GET"===r.type||i.emulateJSON||(r.processData=!1);var l=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,l&&l.call(i.context,e,t,n)};var c=i.xhr=t.ajax(n.extend(r,i));return a.trigger("request",a,c,i),c};var P={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var B=t.Router=function(e){e||(e={}),this.preinitialize.apply(this,arguments),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},F=/\((.*?)\)/g,$=/(\(\?)?:\w+/g,U=/\*\w+/g,Y=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(B.prototype,l,{preinitialize:function(){},initialize:function(){},route:function(e,a,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(a)&&(i=a,a=""),i||(i=this[a]);var o=this;return t.history.route(e,function(n){var r=o._extractParameters(e,n);!1!==o.execute(i,r,a)&&(o.trigger.apply(o,["route:"+a].concat(r)),o.trigger("route",a,r),t.history.trigger("route",o,a,r))}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e=n.keys(this.routes),t;null!=(t=e.pop());)this.route(t,this.routes[t])}},_routeToRegExp:function(e){return e=e.replace(Y,"\\$&").replace(F,"(?:$1)?").replace($,function(e,t){return t?e:"([^/?]+)"}).replace(U,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var a=e.exec(t).slice(1);return n.map(a,function(e,t){return t===a.length-1?e||null:e?decodeURIComponent(e):null})}});var z=t.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},K=/^[#\/]|\s+$/g,X=/^\/+|\/+$/g,q=/#.*$/;z.started=!1,n.extend(z.prototype,l,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname),t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(this._usePushState||!this._wantsHashChange?e=this.getPath():e=this.getHash()),e.replace(K,"")},start:function(e){if(z.started)throw new Error("Backbone.history has already been started");if(z.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||7<document.documentMode),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.history&&this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(X,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var a=document.body,i=a.insertBefore(this.iframe,a.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var o=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),z.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getHash(this.iframe.contentWindow)),e!==this.fragment&&void(this.iframe&&this.navigate(e),this.loadUrl())},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(e,t){if(!z.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;(""===e||"?"===e.charAt(0))&&(n=n.slice(0,-1)||"/");var a=n+e;e=e.replace(q,"");var i=this.decodeFragment(e);if(this.fragment!==i){if(this.fragment=i,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,a);else{if(!this._wantsHashChange)return this.location.assign(a);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var o=this.iframe.contentWindow;t.replace||(o.document.open(),o.document.close()),this._updateHash(o.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var a=e.href.replace(/(javascript:|#).*$/,"");e.replace(a+"#"+t)}else e.hash="#"+t}}),t.history=new z;x.extend=_.extend=B.extend=A.extend=z.extend=function(e,t){var a=this,i;return i=e&&n.has(e,"constructor")?e.constructor:function(){return a.apply(this,arguments)},n.extend(i,a,t),i.prototype=n.create(a.prototype,e),i.prototype.constructor=i,i.__super__=a.prototype,i};var W=function(){throw new Error("A \"url\" property or function must be specified")},V=function(e,t){var n=t.error;t.error=function(a){n&&n.call(t.context,e,a,t),e.trigger("error",e,a,t)}};return t}),"use strict";const simpleClassesVersion="1.21";class SimpleDebug{constructor(){this.version=simpleClassesVersion,this.messages=""}add(e,t){this.messages+=e+": "+t+"\n"}print(){alert(this.messages),this.messages=""}alert(e,t){alert(e+": "+t)}}class SimpleUtilities{constructor(){this.version=simpleClassesVersion,this.DOM_ELEMENT_NODE=1,this.DOM_ATTRIBUTE_NODE=2,this.DOM_TEXT_NODE=3,this.DOM_CDATA_SECTION_NODE=4,this.DOM_ENTITY_REFERENCE_NODE=5,this.DOM_ENTITY_NODE=6,this.DOM_PROCESSING_INSTRUCTION_NODE=7,this.DOM_COMMENT_NODE=8,this.DOM_DOCUMENT_NODE=9,this.DOM_DOCUMENT_TYPE_NODE=10,this.DOM_DOCUMENT_FRAGMENT_NODE=11,this.DOM_NOTATION_NODE=12}randomSuffix(){return conSense.debug?"?random_suffix="+this.random(3735928559):""}random(e){return 1>e?1:Math.floor(Math.random()*e+1)}replaceAll(e,t){let n=this;return n.replace(new RegExp(e,"g"),t)}linkTo(e){document.location.href=e}formURI(e,t){let n=e+"?",a="";if(0===t.length)return e;for(let o in t)n+=a+o+"="+t[o],a="&";return n}checkBrowser(){document.all||document.getElementById||alert("SimpleUtilities.checkBrowser() error: Please upgrade to a more modern browser. This interactive web page will not operate properly.")}getDOMElement(e){let t=document.all?document.all[e]:document.getElementById(e);return t}getKeyName(e){e||(e=window.event);let t=e.keyCode,n="Unknown";return 13===t?n="Enter":16===t?n="Shift":17===t?n="Ctrl":18===t?n="Alt":19===t?n="Pause":32===t?n="Space":8===t?n="Backspace":9===t?n="Tab":37===t?n="Arrow Left":38===t?n="Arrow Up":39===t?n="Arrow Right":40===t?n="Arrow Down":33===t?n="Page Up":34===t?n="Page Down":36===t?n="Home":35===t?n="End":45===t?n="Insert":46===t?n="Delete":91===t||92===t?n="Win":93===t?n="Select":112===t||113===t||114===t||115===t||116===t||117===t||118===t||119===t||120===t||121===t||122===t||123===t?n="Fxx":144===t?n="Num Lock":145===t?n="Scroll Lock":20===t?n="Caps Lock":27===t?n="Esc":void 0,n}trimString(e){return(e+"").replace(/^\s*|\s*$/g,"")}HTML2Source(e){return(e+"").replace(/</g,"&lt;").replace(/>/g,"&gt;")}HTMLDecode(s){var _StringfromCharCode=String.fromCharCode;let out="";if(null!=s){let l=s.length;for(let i=0,ch;i<l;i++){if(ch=s.charAt(i),"&"===ch){let semicolonIndex=s.indexOf(";",i+1);if(0<semicolonIndex){let entity=s.substring(i+1,semicolonIndex);ch=1<entity.length&&"#"===entity.charAt(0)?"x"===entity.charAt(1)||"X"===entity.charAt(1)?_StringfromCharCode(eval("0"+entity.substring(1))):_StringfromCharCode(eval(entity.substring(1))):"quot"===entity?_StringfromCharCode(34):"amp"===entity?_StringfromCharCode(38):"lt"===entity?_StringfromCharCode(60):"gt"===entity?_StringfromCharCode(62):"nbsp"===entity?_StringfromCharCode(160):"iexcl"===entity?_StringfromCharCode(161):"cent"===entity?_StringfromCharCode(162):"pound"===entity?_StringfromCharCode(163):"curren"===entity?_StringfromCharCode(164):"yen"===entity?_StringfromCharCode(165):"brvbar"===entity?_StringfromCharCode(166):"sect"===entity?_StringfromCharCode(167):"uml"===entity?_StringfromCharCode(168):"copy"===entity?_StringfromCharCode(169):"ordf"===entity?_StringfromCharCode(170):"laquo"===entity?_StringfromCharCode(171):"not"===entity?_StringfromCharCode(172):"shy"===entity?_StringfromCharCode(173):"reg"===entity?_StringfromCharCode(174):"macr"===entity?_StringfromCharCode(175):"deg"===entity?_StringfromCharCode(176):"plusmn"===entity?_StringfromCharCode(177):"sup2"===entity?_StringfromCharCode(178):"sup3"===entity?_StringfromCharCode(179):"acute"===entity?_StringfromCharCode(180):"micro"===entity?_StringfromCharCode(181):"para"===entity?_StringfromCharCode(182):"middot"===entity?_StringfromCharCode(183):"cedil"===entity?_StringfromCharCode(184):"sup1"===entity?_StringfromCharCode(185):"ordm"===entity?_StringfromCharCode(186):"raquo"===entity?_StringfromCharCode(187):"frac14"===entity?_StringfromCharCode(188):"frac12"===entity?_StringfromCharCode(189):"frac34"===entity?_StringfromCharCode(190):"iquest"===entity?_StringfromCharCode(191):"Agrave"===entity?_StringfromCharCode(192):"Aacute"===entity?_StringfromCharCode(193):"Acirc"===entity?_StringfromCharCode(194):"Atilde"===entity?_StringfromCharCode(195):"Auml"===entity?_StringfromCharCode(196):"Aring"===entity?_StringfromCharCode(197):"AElig"===entity?_StringfromCharCode(198):"Ccedil"===entity?_StringfromCharCode(199):"Egrave"===entity?_StringfromCharCode(200):"Eacute"===entity?_StringfromCharCode(201):"Ecirc"===entity?_StringfromCharCode(202):"Euml"===entity?_StringfromCharCode(203):"Igrave"===entity?_StringfromCharCode(204):"Iacute"===entity?_StringfromCharCode(205):"Icirc"===entity?_StringfromCharCode(206):"Iuml"===entity?_StringfromCharCode(207):"ETH"===entity?_StringfromCharCode(208):"Ntilde"===entity?_StringfromCharCode(209):"Ograve"===entity?_StringfromCharCode(210):"Oacute"===entity?_StringfromCharCode(211):"Ocirc"===entity?_StringfromCharCode(212):"Otilde"===entity?_StringfromCharCode(213):"Ouml"===entity?_StringfromCharCode(214):"times"===entity?_StringfromCharCode(215):"Oslash"===entity?_StringfromCharCode(216):"Ugrave"===entity?_StringfromCharCode(217):"Uacute"===entity?_StringfromCharCode(218):"Ucirc"===entity?_StringfromCharCode(219):"Uuml"===entity?_StringfromCharCode(220):"Yacute"===entity?_StringfromCharCode(221):"THORN"===entity?_StringfromCharCode(222):"szlig"===entity?_StringfromCharCode(223):"agrave"===entity?_StringfromCharCode(224):"aacute"===entity?_StringfromCharCode(225):"acirc"===entity?_StringfromCharCode(226):"atilde"===entity?_StringfromCharCode(227):"auml"===entity?_StringfromCharCode(228):"aring"===entity?_StringfromCharCode(229):"aelig"===entity?_StringfromCharCode(230):"ccedil"===entity?_StringfromCharCode(231):"egrave"===entity?_StringfromCharCode(232):"eacute"===entity?_StringfromCharCode(233):"ecirc"===entity?_StringfromCharCode(234):"euml"===entity?_StringfromCharCode(235):"igrave"===entity?_StringfromCharCode(236):"iacute"===entity?_StringfromCharCode(237):"icirc"===entity?_StringfromCharCode(238):"iuml"===entity?_StringfromCharCode(239):"eth"===entity?_StringfromCharCode(240):"ntilde"===entity?_StringfromCharCode(241):"ograve"===entity?_StringfromCharCode(242):"oacute"===entity?_StringfromCharCode(243):"ocirc"===entity?_StringfromCharCode(244):"otilde"===entity?_StringfromCharCode(245):"ouml"===entity?_StringfromCharCode(246):"divide"===entity?_StringfromCharCode(247):"oslash"===entity?_StringfromCharCode(248):"ugrave"===entity?_StringfromCharCode(249):"uacute"===entity?_StringfromCharCode(250):"ucirc"===entity?_StringfromCharCode(251):"uuml"===entity?_StringfromCharCode(252):"yacute"===entity?_StringfromCharCode(253):"thorn"===entity?_StringfromCharCode(254):"yuml"===entity?_StringfromCharCode(255):"OElig"===entity?_StringfromCharCode(338):"oelig"===entity?_StringfromCharCode(339):"Scaron"===entity?_StringfromCharCode(352):"scaron"===entity?_StringfromCharCode(353):"Yuml"===entity?_StringfromCharCode(376):"fnof"===entity?_StringfromCharCode(402):"circ"===entity?_StringfromCharCode(710):"tilde"===entity?_StringfromCharCode(732):"Alpha"===entity?_StringfromCharCode(913):"Beta"===entity?_StringfromCharCode(914):"Gamma"===entity?_StringfromCharCode(915):"Delta"===entity?_StringfromCharCode(916):"Epsilon"===entity?_StringfromCharCode(917):"Zeta"===entity?_StringfromCharCode(918):"Eta"===entity?_StringfromCharCode(919):"Theta"===entity?_StringfromCharCode(920):"Iota"===entity?_StringfromCharCode(921):"Kappa"===entity?_StringfromCharCode(922):"Lambda"===entity?_StringfromCharCode(923):"Mu"===entity?_StringfromCharCode(924):"Nu"===entity?_StringfromCharCode(925):"Xi"===entity?_StringfromCharCode(926):"Omicron"===entity?_StringfromCharCode(927):"Pi"===entity?_StringfromCharCode(928):"Rho"===entity?_StringfromCharCode(929):"Sigma"===entity?_StringfromCharCode(931):"Tau"===entity?_StringfromCharCode(932):"Upsilon"===entity?_StringfromCharCode(933):"Phi"===entity?_StringfromCharCode(934):"Chi"===entity?_StringfromCharCode(935):"Psi"===entity?_StringfromCharCode(936):"Omega"===entity?_StringfromCharCode(937):"alpha"===entity?_StringfromCharCode(945):"beta"===entity?_StringfromCharCode(946):"gamma"===entity?_StringfromCharCode(947):"delta"===entity?_StringfromCharCode(948):"epsilon"===entity?_StringfromCharCode(949):"zeta"===entity?_StringfromCharCode(950):"eta"===entity?_StringfromCharCode(951):"theta"===entity?_StringfromCharCode(952):"iota"===entity?_StringfromCharCode(953):"kappa"===entity?_StringfromCharCode(954):"lambda"===entity?_StringfromCharCode(955):"mu"===entity?_StringfromCharCode(956):"nu"===entity?_StringfromCharCode(957):"xi"===entity?_StringfromCharCode(958):"omicron"===entity?_StringfromCharCode(959):"pi"===entity?_StringfromCharCode(960):"rho"===entity?_StringfromCharCode(961):"sigmaf"===entity?_StringfromCharCode(962):"sigma"===entity?_StringfromCharCode(963):"tau"===entity?_StringfromCharCode(964):"upsilon"===entity?_StringfromCharCode(965):"phi"===entity?_StringfromCharCode(966):"chi"===entity?_StringfromCharCode(967):"psi"===entity?_StringfromCharCode(968):"omega"===entity?_StringfromCharCode(969):"thetasym"===entity?_StringfromCharCode(977):"upsih"===entity?_StringfromCharCode(978):"piv"===entity?_StringfromCharCode(982):"ensp"===entity?_StringfromCharCode(8194):"emsp"===entity?_StringfromCharCode(8195):"thinsp"===entity?_StringfromCharCode(8201):"zwnj"===entity?_StringfromCharCode(8204):"zwj"===entity?_StringfromCharCode(8205):"lrm"===entity?_StringfromCharCode(8206):"rlm"===entity?_StringfromCharCode(8207):"ndash"===entity?_StringfromCharCode(8211):"mdash"===entity?_StringfromCharCode(8212):"lsquo"===entity?_StringfromCharCode(8216):"rsquo"===entity?_StringfromCharCode(8217):"sbquo"===entity?_StringfromCharCode(8218):"ldquo"===entity?_StringfromCharCode(8220):"rdquo"===entity?_StringfromCharCode(8221):"bdquo"===entity?_StringfromCharCode(8222):"dagger"===entity?_StringfromCharCode(8224):"Dagger"===entity?_StringfromCharCode(8225):"bull"===entity?_StringfromCharCode(8226):"hellip"===entity?_StringfromCharCode(8230):"permil"===entity?_StringfromCharCode(8240):"prime"===entity?_StringfromCharCode(8242):"Prime"===entity?_StringfromCharCode(8243):"lsaquo"===entity?_StringfromCharCode(8249):"rsaquo"===entity?_StringfromCharCode(8250):"oline"===entity?_StringfromCharCode(8254):"frasl"===entity?_StringfromCharCode(8260):"euro"===entity?_StringfromCharCode(8364):"image"===entity?_StringfromCharCode(8465):"weierp"===entity?_StringfromCharCode(8472):"real"===entity?_StringfromCharCode(8476):"trade"===entity?_StringfromCharCode(8482):"alefsym"===entity?_StringfromCharCode(8501):"larr"===entity?_StringfromCharCode(8592):"uarr"===entity?_StringfromCharCode(8593):"rarr"===entity?_StringfromCharCode(8594):"darr"===entity?_StringfromCharCode(8595):"harr"===entity?_StringfromCharCode(8596):"crarr"===entity?_StringfromCharCode(8629):"lArr"===entity?_StringfromCharCode(8656):"uArr"===entity?_StringfromCharCode(8657):"rArr"===entity?_StringfromCharCode(8658):"dArr"===entity?_StringfromCharCode(8659):"hArr"===entity?_StringfromCharCode(8660):"forall"===entity?_StringfromCharCode(8704):"part"===entity?_StringfromCharCode(8706):"exist"===entity?_StringfromCharCode(8707):"empty"===entity?_StringfromCharCode(8709):"nabla"===entity?_StringfromCharCode(8711):"isin"===entity?_StringfromCharCode(8712):"notin"===entity?_StringfromCharCode(8713):"ni"===entity?_StringfromCharCode(8715):"prod"===entity?_StringfromCharCode(8719):"sum"===entity?_StringfromCharCode(8721):"minus"===entity?_StringfromCharCode(8722):"lowast"===entity?_StringfromCharCode(8727):"radic"===entity?_StringfromCharCode(8730):"prop"===entity?_StringfromCharCode(8733):"infin"===entity?_StringfromCharCode(8734):"ang"===entity?_StringfromCharCode(8736):"and"===entity?_StringfromCharCode(8743):"or"===entity?_StringfromCharCode(8744):"cap"===entity?_StringfromCharCode(8745):"cup"===entity?_StringfromCharCode(8746):"int"===entity?_StringfromCharCode(8747):"there4"===entity?_StringfromCharCode(8756):"sim"===entity?_StringfromCharCode(8764):"cong"===entity?_StringfromCharCode(8773):"asymp"===entity?_StringfromCharCode(8776):"ne"===entity?_StringfromCharCode(8800):"equiv"===entity?_StringfromCharCode(8801):"le"===entity?_StringfromCharCode(8804):"ge"===entity?_StringfromCharCode(8805):"sub"===entity?_StringfromCharCode(8834):"sup"===entity?_StringfromCharCode(8835):"nsub"===entity?_StringfromCharCode(8836):"sube"===entity?_StringfromCharCode(8838):"supe"===entity?_StringfromCharCode(8839):"oplus"===entity?_StringfromCharCode(8853):"otimes"===entity?_StringfromCharCode(8855):"perp"===entity?_StringfromCharCode(8869):"sdot"===entity?_StringfromCharCode(8901):"lceil"===entity?_StringfromCharCode(8968):"rceil"===entity?_StringfromCharCode(8969):"lfloor"===entity?_StringfromCharCode(8970):"rfloor"===entity?_StringfromCharCode(8971):"lang"===entity?_StringfromCharCode(9001):"rang"===entity?_StringfromCharCode(9002):"loz"===entity?_StringfromCharCode(9674):"spades"===entity?_StringfromCharCode(9824):"clubs"===entity?_StringfromCharCode(9827):"hearts"===entity?_StringfromCharCode(9829):"diams"===entity?_StringfromCharCode(9830):"",i=semicolonIndex}}out+=ch}return out}}includeJavaScriptFile(e){document.write("<script charset=\"UTF-8\" type=\"text/javascript\" src=\""+e+this.randomSuffix()+"\"></script>")}includeCSSFile(e){document.write("<link href=\""+e+this.randomSuffix()+"\" rel=\"stylesheet\" type=\"text/css\">")}isDefined(e){return"undefined"!=typeof window[e]}regexpResultLength(e,t){let n=t.length-t.replace(e,"").length;return n}accented2HTML(e){let t,n;return t=/ő/g,n="&odblac;",e=e.replace(t,n),t=/Ő/g,n="&Odblac;",e=e.replace(t,n),t=/ű/g,n="&udblac;",e=e.replace(t,n),t=/Ű/g,n="&Udblac;",e=e.replace(t,n),t=/é/g,n="&eacute;",e=e.replace(t,n),t=/É/g,n="&Eacute;",e=e.replace(t,n),t=/á/g,n="&aacute;",e=e.replace(t,n),t=/Á/g,n="&Aacute;",e=e.replace(t,n),t=/í/g,n="&iacute;",e=e.replace(t,n),t=/Í/g,n="&Iacute;",e=e.replace(t,n),t=/ó/g,n="&oacute;",e=e.replace(t,n),t=/Ó/g,n="&Oacute;",e=e.replace(t,n),t=/ú/g,n="&uacute;",e=e.replace(t,n),t=/Ú/g,n="&Uacute;",e=e.replace(t,n),t=/ö/g,n="&ouml;",e=e.replace(t,n),t=/Ö/g,n="&Ouml;",e=e.replace(t,n),t=/ü/g,n="&uuml;",e=e.replace(t,n),t=/Ü/g,n="&Uuml;",e=e.replace(t,n),t=/õ/g,n="&otilde;",e=e.replace(t,n),t=/Õ/g,n="&Otilde;",e=e.replace(t,n),t=/û/g,n="&ucirc;",e=e.replace(t,n),t=/Û/g,n="&Ucirc;",e=e.replace(t,n),t=/ä/g,n="&auml;",e=e.replace(t,n),t=/Ä/g,n="&Auml;",e=e.replace(t,n),t=/ß/g,n="&szlig;",e=e.replace(t,n),e}liteDown(e){let t,n;t=/==>/g,n="<p>",e=e.replace(t,n),t=/<==/g,n="</p>",e=e.replace(t,n),t=/__/g,n="<br />",e=e.replace(t,n);let a;for(;t=/(>|\s|^)\(rel\)\((.*)\)([^<\s]*)(<|\s|$)/,n="$1<a href=\"$3\">$2</a>$4",a=e.replace(t,n),e!==a;)e=a;for(;t=/(>|\s|^)\(rel\)([^<\s]*)(<|\s|$)/,n="$1<a href=\"$2\">$2</a>$3",a=e.replace(t,n),e!==a;)e=a;for(;t=/(>|\s|^)\((.*)\)(\w+:\/{2}[\w.\/]+)(<|\s|$)/,n="$1<a href=\"$3\">$2</a>$4",a=e.replace(t,n),e!==a;)e=a;for(;t=/(\(|\s|^)(\w+:\/{2}[\w.\/]+)(\)|\s|$)/,n="$1<a href=\"$2\">$2</a>$3",a=e.replace(t,n),e!==a;)e=a;for(;t=/(>|\s|^)([\w.]+@[\w.]+)(<|\s|$)/,n="$1<a href=\"mailto:$2\">$2</a>$3",a=e.replace(t,n),e!==a;)e=a;for(;t=/(>|\s|^)\*([^*\s][^*]*[^*\s]|[^*\s])\*(<|\s|$)/,n="$1<em>$2</em>$3",a=e.replace(t,n),e!==a;)e=a;for(;t=/(>|\s|^)_([^_\s][^_]*[^_\s]|[^_\s])_(<|\s|$)/,n="$1<cite>$2</cite>$3",a=e.replace(t,n),e!==a;)e=a;for(let a=1;6>=a;a++)t=new RegExp("^(\\s*)(=){"+a+"}([^=].*[^=])(=){"+a+"}(\\s*)$","gm"),n="<h"+a+">$3</h"+a+">",e=e.replace(t,n);for(;t=/(>|\s|^)\(image\)\((.*)\)([^<\s]*)(<|\s|$)/,n="$1<img class=\"$2\" src=\"$3\"/>$4",a=e.replace(t,n),e!==a;)e=a;a=e;do e=a,t=/(>|\s|^)\(thumbnail\)\((.*)\)([^<\s]*)\s+>>>\s+(.*)(<|\s|$)/,n="$1<a href=\"$4\"><img class=\"$2\" src=\"$3\"/></a>$5",a=e.replace(t,n);while(a!==e);return e}toObject(e){return"string"==typeof e&&(e=this.getDOMElement(e)),e}attachEvent(e,t,n,a){e.addEventListener?e.addEventListener(t,n,a):e.attachEvent&&e.attachEvent("on"+t,n)}objectArray2objectHashTable(e,t){let n=[];for(let a in e)n[e[a][t]]=e[a];return n}microSprintf(e,...t){let n=0;return e.replace(/%s/g,()=>t[n++])}}class SimpleCryptography{constructor(){this.version=simpleClassesVersion,this.base64KeyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_."}base64Encode(e){let t="",n="",a="",o=0,r,s,l,c,p;do r=e.charCodeAt(o++),s=e.charCodeAt(o++),n=e.charCodeAt(o++),l=r>>2,c=(3&r)<<4|s>>4,p=(15&s)<<2|n>>6,a=63&n,isNaN(s)?p=a=64:isNaN(n)&&(a=64),t=t+this.base64KeyStr.charAt(l)+this.base64KeyStr.charAt(c)+this.base64KeyStr.charAt(p)+this.base64KeyStr.charAt(a),r=s=n="",l=c=p=a="";while(o<e.length);return t}base64Decode(e){var t=String.fromCharCode;let n="",a="",o="",r=0,s=/[^A-Za-z0-9\-_.]/g,l,c,p,u,h;s.exec(e)&&alert("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '-', '_', and '.'\nExpect errors in decoding."),e=e.replace(/[^A-Za-z0-9\-_.]/g,"");do p=this.base64KeyStr.indexOf(e.charAt(r++)),u=this.base64KeyStr.indexOf(e.charAt(r++)),h=this.base64KeyStr.indexOf(e.charAt(r++)),o=this.base64KeyStr.indexOf(e.charAt(r++)),l=p<<2|u>>4,c=(15&u)<<4|h>>2,a=(3&h)<<6|o,n+=t(l),64!==h&&(n+=t(c)),64!==o&&(n+=t(a)),l=c=a="",p=u=h=o="";while(r<e.length);return n}RC4Encrypt(e,t){var a=String.fromCharCode;let o=Array(256),r=e.length,s=t.length,l="",c,p,u,h,g;for(c=0;256>c;c++)o[c]=c;for(p=c=0;256>c;c++)p=(p+o[c]+e.charCodeAt(c%r))%256,g=o[c],o[c]=o[p],o[p]=g;for(h=p=c=0;c<s;c++)h=(h+1)%256,p=(p+o[h])%256,g=o[h],o[h]=o[p],o[p]=g,u=o[(o[h]+o[p])%256],l+=a(t.charCodeAt(c)^u);return l}RC4Decrypt(e,t){return this.RC4Encrypt(e,t)}SHA1(e){return hex_sha1(e)}MD5(e){return hex_md5(e)}generateRandomString(e){let t="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789",n="";for(let a=0;a<e;a++)n+=t[Math.floor(Math.random()*t.length)];return n}}function rem(){}const simpleDebug=new SimpleDebug,simpleUtils=new SimpleUtilities,simpleCrypto=new SimpleCryptography;const redSandVersion="0.44";class RedSandUtilities{constructor(){this.version=redSandVersion}generateCredentials(e,t){t===void 0&&(t=e);let n=simpleCrypto.SHA1(e),a=simpleCrypto.SHA1(t),i=new Date().format("YYYY-MM-DD HH:mm:ss"),o=simpleCrypto.generateRandomString(16),r=simpleCrypto.base64Encode(simpleCrypto.RC4Encrypt(n,a+i+o));return r}formAuthenticatedURI(e,t,n,a){let i=this.generateCredentials(a,a);if(null===t)e=simpleUtils.formURI(e,{userIdentifier:n,credentials:i});else{if("object"!=typeof t)return e;t.userIdentifier=n,t.credentials=i,e=simpleUtils.formURI(e,t)}return e}blockInput(e){e===void 0&&(e="blue"),simpleUtils.getDOMElement("inputBlocker").style.background=e,simpleUtils.getDOMElement("inputBlocker").style.display="block"}unblockInput(){simpleUtils.getDOMElement("inputBlocker").style.display="none"}}class RedSandGenericLoader{constructor(){this.version=redSandVersion,this.containers=[],this.frameNames=[],this.callbacks=[],this.lastProcess=0,this.oldContainerPool=[],this.indicate=!0,this.loadsInProgress=0}showIndicator(){redSandGenericLoader.indicate&&(redSandGenericLoader.loadsInProgress++,1===redSandGenericLoader.loadsInProgress&&(simpleUtils.getDOMElement("loadIndicator").style.display="block"))}hideIndicator(){redSandGenericLoader.indicate&&(redSandGenericLoader.loadsInProgress--,0===redSandGenericLoader.loadsInProgress&&(simpleUtils.getDOMElement("loadIndicator").style.display="none"))}load(e,t){if(this.showIndicator(),conSense.writeLn("[load request: "+e+"]"),void 0===t&&(t=redSandGenericLoader.javaScriptEvaluatorCallback),this.callbacks.push(t),this.oldContainerPool.length)this.containers.push(this.oldContainerPool.pop());else{let e=document.createElement("div");e.setAttribute("id","RedSandRegistryContainer"+this.lastProcess),e.style.display="none",conSense.conSenseContainer.appendChild(e),this.containers.push(e)}let n=e+simpleUtils.randomSuffix();this.frameNames.push("RedSandRegistry"+this.lastProcess),this.containers[this.lastProcess].innerHTML="<iframe name='"+this.frameNames[this.lastProcess]+"' id='"+this.frameNames[this.lastProcess]+"' onLoad='parent.redSandGenericLoader.loadedCallback("+this.lastProcess+")' src='"+n+"' style='width: 0px; height: 0px; border: 0px;'></iframe>"}loadedCallback(e){let t="deadbeef";t=void 0===window.frames[this.frameNames[e]].document.body.innerText?void 0===window.frames[this.frameNames[e]].document.body.textContent?window.frames[this.frameNames[e]].document.body.innerHTML:window.frames[this.frameNames[e]].document.body.textContent:window.frames[this.frameNames[e]].document.body.innerText;let n=this.callbacks[e];this.callbacks[e]=void 0,this.oldContainerPool.push(this.containers[e]),this.containers[e]=void 0,this.frameNames[e]=void 0,this.lastProcess++,conSense.scrollToBottomFocusInput(),n(t),this.hideIndicator(),conSense.separator(),conSense.scrollToBottomFocusInput()}javaScriptEvaluatorCallback(content){try{eval(content)}catch(e){conSense.writeLn(">>> JavaScript exception: "+e),conSense.listObject(e)}conSense.separator(),conSense.scrollToBottomFocusInput()}}class RedSandHashHandler{constructor(){this.version=redSandVersion,this.hashSeparator="#",this.paramSeparator=";",this.equalsString="=",this.lastHash="deadbeef",this.defaultHash="deadbeef",this.eventRegistry=[],this.firstRun=!0}addEvent(e,t){this.eventRegistry[e]=t}onHashChanged(){let e=this.processCurrentURIHash();if(void 0!==e){for(let t in redSandHashHandler.updateNodeStyles(),e)if("each"!=t&&"forEach"!=t)for(let n in this.eventRegistry)n==t&&this.eventRegistry[n](e);(void 0!==this.firstRun||!0===this.firstRun)&&(this.firstRun=!1,window.setInterval(function(){redSandHashHandler.changed()&&redSandHashHandler.onHashChanged()},100))}}changed(){return window.location.hash!==this.lastHash&&(this.lastHash=window.location.hash,!0)}setDefaultHash(e){this.defaultHash=e,0===window.location.hash.length?(this.lastHash=e,window.location.hash=e):this.lastHash=window.location.hash,this.updateNodeStyles(),this.onHashChanged()}array2Hash(e){let t=this.hashSeparator;for(let n in e)t+=""+n+this.equalsString+e[n]+this.paramSeparator;return 2<t.length&&(t=t.substr(0,t.length-this.paramSeparator.length)),t}hash2Array(e){e.substr(e.length-this.paramSeparator.length)===this.paramSeparator&&(e=e.substr(0,e.length-this.paramSeparator.length));let t=[],n=e.substr(this.hashSeparator.length).split(this.paramSeparator);for(let a=0,i;a<n.length;a++)i=n[a].split(this.equalsString),t[i[0]]=i[1];return t}getDocumentAnchors(){let e=[];for(let t=0;t<document.anchors.length;t++)e[this.hashSeparator+document.anchors[t].name]=!0;return e}processCurrentURIHash(){let e=this.getDocumentAnchors();return void 0===e[window.location.hash]?this.hash2Array(window.location.hash):void 0}menuContainsLink(e,t){for(let n in e.items){if("each"==n||"forEach"==n)continue;let a=this.hash2Array(e.items[n].link),i=this.hash2Array(t),o=0,r=0;for(let e in a)if("each"!=e&&"forEach"!=e)for(let t in o++,i)"each"!=t&&"forEach"!=t&&e==t&&a[e]===i[t]&&r++;if(o===r)return e.items[n]}}updateNodeStyles(){for(let e in redSandRegistry.menus){let t=redSandRegistry.menus[e];if(!t.items)continue;let n=this.menuContainsLink(t,window.location.hash);n===void 0||(simpleUtils.getDOMElement(n.DOMid).className=n.selectedClassName,t.lastSelectedNode!==void 0&&t.lastSelectedNode!==n&&(simpleUtils.getDOMElement(t.lastSelectedNode.DOMid).className=t.lastSelectedNode.deselectedClassName),t.lastSelectedNode=n)}}}class RedSandRegistry{constructor(){this.version=redSandVersion,this.menus=[]}findMenuNodesByLink(e){let t=[],n=!0;for(let a in this.menus){let i=this.menus[a];if(!i.items)continue;let o=[];for(let t in i.items){let n=i.items[t];n.link&&n.link===e&&o.push(n)}0<o.length&&(t[i.id]=o,n=!1)}return n?void 0:t}addMenu(e){this.menus[e.id]=e}}class RedSandUITextManager{constructor(){this.version=redSandVersion,this.registry=[],this.currentTable=void 0,this.fieldId="id",this.fieldText="text"}initTextTable(e){let t=simpleUtils.objectArray2objectHashTable(e,this.fieldId);for(let n in t)t[n][this.fieldText]&&(t[n][this.fieldText]=simpleUtils.liteDown(t[n][this.fieldText]));return t}setTextTable(e){for(let t in this.registry)void 0!==this.registry[t]&&"object"==typeof this.registry[t]&&(this.registry[t]=e);this.currentTable=e,this.refresh()}setText(e,t,n){if(""!==n){let a=simpleUtils.getDOMElement(e);if(a===void 0)return;a[t]=this.currentTable[n][this.fieldText]}this.registry[e+"; "+t+"; "+n]=this.currentTable}refresh(){for(let e in this.registry){if(void 0===this.registry[e]||"object"!=typeof this.registry[e])continue;let t=e;if(t=t.split(";"),t[0]=simpleUtils.trimString(t[0]),t[1]=simpleUtils.trimString(t[1]),t[2]=simpleUtils.trimString(t[2]),void 0===simpleUtils.getDOMElement(t[0])){this.registry[e]=void 0;continue}simpleUtils.getDOMElement(t[0])[t[1]]=this.registry[e][t[2]][this.fieldText]}}}class RedSandNode{constructor(e,t,n,a,i,o){this.version=redSandVersion,this.DOMid=e,this.textId=t,this.selectedClassName=a,this.deselectedClassName=n,this.className=this.deselectedClassName,this.link=i,this.custom=o}renderString(){let e="<a id='"+this.DOMid+"' class='"+this.className+"' href='"+this.link+"'></a>";return e}render(e){e.innerHTML+=this.renderString(),redSandUITextManager.setText(this.DOMid,"innerHTML",this.textId)}}class RedSandMenu{constructor(e,t,n){this.version=redSandVersion,this.id=e,this.items=t,this.menuContainer=simpleUtils.getDOMElement(n),this.lastSelectedNode=void 0}render(){if(!this.items.length)return"";for(let e=0;e<this.items.length;e++)void 0!==this.items[e].DOMid&&(this.menuContainer.innerHTML+=this.items[e].renderString(),redSandUITextManager.setText(this.items[e].DOMid,"innerHTML",this.items[e].textId))}}let staticRedSandId=0;class RedSandWindowlet{constructor(e,t,n,a,i,o,r){if(this.version=redSandVersion,(void 0===i||"default"===i)&&(i="white"),(void 0===o||"default"===o)&&(o="1px solid gray"),void 0===r&&(r=!0),this.left=e,this.top=t,this.width=n,this.height=a,this.background=i,this.border=o,this.draggable=r,this.DOMContainer=void 0,this.id="RedSandId"+staticRedSandId++,this.borderVisible=!0,this.DOMContainer=document.createElement("div"),this.DOMContainer.id=this.id,this.DOMContainer.style.display="block",this.DOMContainer.style.position="absolute",this.DOMContainer.style.overflow="auto",this.DOMContainer.style.width=this.width+"px",this.DOMContainer.style.height=this.height+"px",this.DOMContainer.style.left=this.left+"px",this.DOMContainer.style.top=this.top+"px",this.DOMContainer.style.background=i,this.DOMContainer.style.border=this.border,redSandWindowletManager.initZIndex(this),document.body.appendChild(this.DOMContainer),this.draggable){Drag.init(this.DOMContainer,null,0,1e9,0,1e9);let e=this;this.DOMContainer.onDragStart=function(){redSandWindowletManager.updateZIndex(e)}}}show(){this.DOMContainer.style.display="block"}hide(){this.DOMContainer.style.display="none"}borderOn(){this.DOMContainer.style.border=this.border}borderOff(){this.DOMContainer.style.border="none"}}class RedSandWindowletManager{constructor(){this.version=redSandVersion,this.topmostWindowlet=void 0,this.highestZIndex=1e6}initZIndex(e){e.DOMContainer.style.zIndex=""+this.highestZIndex++,this.topmostWindowlet=e}updateZIndex(e){let t=e.DOMContainer.style.zIndex;e.DOMContainer.style.zIndex=this.topmostWindowlet.DOMContainer.style.zIndex,this.topmostWindowlet.DOMContainer.style.zIndex=t,this.topmostWindowlet=e}}let redSandUtils=new RedSandUtilities;var redSandGenericLoader=new RedSandGenericLoader;let redSandHashHandler=new RedSandHashHandler,redSandRegistry=new RedSandRegistry,redSandUITextManager=new RedSandUITextManager,redSandWindowletManager=new RedSandWindowletManager;let redSandGLVersion="0.03";class RedSandGLViewport{constructor(e=0,t=0){this.version=redSandGLVersion,this.originX=e,this.originY=t}setOrigin(e,t){this.originX=e,this.originY=t}}class RedSandGLPrimitive{constructor(e){this.version=redSandGLVersion,this.viewport=e,e===void 0&&alert("RedSandGLViewport should be specified for RedSandGLPrimitive() call.")}plot(){}line(){}erase(){}}class ConSense{constructor(){this.version="1.14",this.debug=!0,this.echo=!0,this.verbose=!0,this.commandLine="",this.oldCommandLine="",this.conSenseContainer=void 0,this.conSenseInnerContainer=void 0,this.conSenseHeader=void 0,this.conSenseHeaderSwitch=void 0,this.conSenseOut=void 0,this.conSenseIn=void 0,this.conSenseCounter=void 0,this.containerHeight=void 0,this.containerScrollTop=void 0,this.zTop=2000000001,this.scrollInfinite=1e9,this.show=!0,this.hide=!1,this.visible=this.show,this.globalVisible=this.show,this.toggle="toggle",this.interfaceText={showConsoleButton:"Show",hideConsoleButton:"Hide"},this.outlineColor="red",this.lastKeyEventType="deadbeef",this.commandHistory=[],this.commandHistoryPosition=0,this.currentlyTypedCommand="",this.tabPixelSize=20,this.mapResultBuffer=void 0,this.mapTempObjects=void 0,this.mapTempObjectCounter=0,this.mapExcerptSize=40,this.mapShowConSense=!1,this.mapShowEmptyTexts=!1,this.lastWriteLn="",this.separatorString="==============================="}writeTitle(){this.writeLn("Type "+conSense.highlightAppendLink("help()")+" + Enter for usage information.")}clearScreen(){this.conSenseOut.innerHTML="",this.writeTitle()}write(e){this.conSenseOut.innerHTML+=e}writeLn(e){this.lastWriteLn=e,this.conSenseOut.innerHTML+=e+"<br />"}writeManualEntry(e,t){this.conSenseOut.innerHTML+=""===e?"<div class='conSenseManualEntry'><span class='conSenseManualEntryHead'></span> "+t+"</div>":"<div class='conSenseManualEntry'><span class='conSenseManualEntryHead'>"+conSense.highlightAppendLink(e)+"</span> "+t+"</div>"}separator(){this.lastWriteLn!==this.separatorString&&this.writeLn(this.separatorString)}debugLn(e,t){if(this.debug){let n=new Date;e===void 0&&(e=""),t===void 0&&(t=""),this.writeLn("("+n.format("HH:mm:ss")+") *"+e+"* *"+t+"*")}}echoLn(e){this.echo&&this.writeLn("[echo: "+this.highlightAppendLink(e)+"]")}verboseLn(e){this.verbose&&e!==void 0&&this.writeLn("[result: "+e+"]")}getInput(){return simpleUtils.trimString(this.conSenseIn.value)}setInput(e){this.conSenseIn.value=e}appendInput(e){this.conSenseIn.value+=0===this.conSenseIn.value.length?e:" "+e,this.scrollToBottomFocusInput()}highlight(e){return"<span class='conSenseHighlight'>&nbsp;"+e+"&nbsp;</span>"}highlightAppendLink(e){return"<a class='conSenseHighlightAppendLink' href='javascript:conSense.appendInput(\""+e.replace(/"/g,"\\\"")+"\")'><img src='"+stub.relativeConSensePath+"conSense/images/orangeArrow.png' style='border: 0;'>"+simpleUtils.HTML2Source(e)+"</a>"}highlightLabelledAppendLink(e,t){return"<a class='conSenseHighlightAppendLink' href='javascript:conSense.appendInput(\""+t.replace(/"/g,"\\\"")+"\")'>"+e+"</a>"}init(e,t,n){simpleUtils.checkBrowser(),document.body.innerHTML+="<!-- RedSand -->            <div id=\"loadIndicator\" class=\"loadIndicator\">                <img src=\""+stub.relativeConSensePath+"conSense/images/loader.gif\" style=\"border: 0;\">            </div>            <div id=\"inputBlocker\" class=\"inputBlocker\">            </div>            <!-- End of RedSand -->",t===void 0&&(t="20px"),n===void 0&&(n="20px"),document.body.innerHTML+="<!-- ConSense -->            <div id=\"conSenseContainer\" class=\"conSenseContainer\">                <div id=\"conSenseHeader\" class=\"conSenseHeader\">                    Loading ConSense...                </div>                <div id=\"conSenseHeaderSwitch\" class=\"conSenseHeaderSwitch\"                    onClick=\"conSense.showConsole(conSense.toggle)\"                >                    &nbsp;                </div>                <div id=\"conSenseInnerContainer\" class=\"conSenseInnerContainer\"                    onScroll=\"conSense.containerScrollTop = conSense.conSenseInnerContainer.scrollTop\"                >                    <form>                        <div id=\"conSenseOut\" class=\"conSenseOut\"                            onDblClick=\"conSense.scrollToBottomFocusInput()\"                        >                        </div>                        <input id=\"conSenseIn\" class=\"conSenseIn\"                            onKeyDown=\"conSense.handleInput(event, 'down')\"                            onKeyPress=\"conSense.handleInput(event, 'press')\"                            onKeyUp=\"conSense.handleInput(event, 'up')\"                            type=\"text\" maxlength=\"1000\" size=\"1000\" />                        <input id=\"conSenseCounter\" class=\"conSenseCounter\" type=\"text\" maxlength=\"4\" size=\"4\" readonly />                    </form>                </div>            </div>            <!-- End of ConSense -->",this.conSenseContainer=simpleUtils.getDOMElement("conSenseContainer"),this.conSenseInnerContainer=simpleUtils.getDOMElement("conSenseInnerContainer"),this.conSenseHeader=simpleUtils.getDOMElement("conSenseHeader"),this.conSenseHeaderSwitch=simpleUtils.getDOMElement("conSenseHeaderSwitch"),this.conSenseOut=simpleUtils.getDOMElement("conSenseOut"),this.conSenseIn=simpleUtils.getDOMElement("conSenseIn"),this.conSenseCounter=simpleUtils.getDOMElement("conSenseCounter"),this.containerHeight=this.conSenseInnerContainer.style.height,this.conSenseHeader.innerHTML="ConSense v"+this.version,this.showConsole(e),this.globalShowConsole(e),this.writeTitle(),this.separator(),this.updateCounter(),this.scrollToBottomFocusInput(),this.conSenseContainer.style.zIndex=""+this.zTop,this.conSenseContainer.style.left=t+"px",this.conSenseContainer.style.top=n+"px",Drag.init(this.conSenseHeader,this.conSenseContainer,0,1e9,0,1e9),kd.K.press(function(e){e.altKey&&e.shiftKey&&(conSense.showConsole(conSense.toggle),conSense.globalShowConsole(conSense.toggle),conSense.scrollToBottomFocusInput())})}updateCounter(){this.conSenseCounter.value=this.conSenseIn.value.length}handleInput(e,t){let n=simpleUtils.getKeyName(e);"Enter"===n&&"press"===this.lastKeyEventType?this.handleCommand():"Arrow Up"===n&&"down"===this.lastKeyEventType?(this.commandHistoryPosition===this.commandHistory.length&&(this.currentlyTypedCommand=this.getInput()),0<this.commandHistoryPosition&&(this.commandHistoryPosition--,this.setInput(this.commandHistory[this.commandHistoryPosition]))):"Arrow Down"===n&&"down"===this.lastKeyEventType?this.commandHistoryPosition===this.commandHistory.length-1?(this.commandHistoryPosition++,this.setInput(this.currentlyTypedCommand)):this.commandHistoryPosition<this.commandHistory.length-1&&(this.commandHistoryPosition++,this.setInput(this.commandHistory[this.commandHistoryPosition])):this.getInput()!==this.oldCommandLine&&(this.commandHistoryPosition=this.commandHistory.length),this.updateCounter(),this.lastKeyEventType=t,this.oldCommandLine=this.getInput()}handleCommand(){this.commandLine=this.getInput(),this.commandHistory.push(this.commandLine),this.commandHistoryPosition=this.commandHistory.length,this.setInput(""),this.updateCounter(),this.echoLn(this.commandLine);try{let result=eval(this.commandLine);this.verboseLn(result)}catch(e){this.writeLn(">>> JavaScript exception: "+e),this.listObject(e)}this.separator(),this.scrollToBottomFocusInput()}showConsole(e){e===conSense.toggle?this.visible?this.showConsole(this.hide):this.showConsole(this.show):e?(this.visible=e,this.conSenseHeaderSwitch.innerHTML=this.interfaceText.hideConsoleButton,this.conSenseContainer.style.height=this.containerHeight,this.conSenseInnerContainer.style.display="block",this.conSenseInnerContainer.scrollTop=this.containerScrollTop):(this.visible=e,this.conSenseHeaderSwitch.innerHTML=this.interfaceText.showConsoleButton,this.conSenseInnerContainer.style.display="none",this.conSenseContainer.style.height="21px")}scrollToBottomFocusInput(){this.updateCounter(),this.conSenseInnerContainer.scrollTop=this.scrollInfinite,this.visible&&this.globalVisible&&(this.conSenseIn.focus(),this.conSenseInnerContainer.scrollTop=this.scrollInfinite)}globalShowConsole(e){e===conSense.toggle?this.globalVisible?this.globalShowConsole(this.hide):this.globalShowConsole(this.show):e?(this.globalVisible=e,this.conSenseContainer.style.display="block",this.conSenseInnerContainer.scrollTop=this.containerScrollTop):(this.globalVisible=e,this.containerScrollTop=this.conSenseInnerContainer.scrollTop,this.conSenseContainer.style.display="none")}listObject(e){for(let t in e=simpleUtils.toObject(e),e)try{this.writeLn(this.highlight(t)+" - "+simpleUtils.HTML2Source(e[t]))}catch(e){}}listObjectStyle(e){e=simpleUtils.toObject(e),this.listObject(e.style)}outlineDOMElement(e){e=simpleUtils.toObject(e),e.style.border="1px solid "+this.outlineColor}outlineDOMElementsByTag(e){let t=document.getElementsByTagName(e);for(let n=0;n<t.length;n++)t[n].style.border="1px solid "+this.outlineColor}outlineDOMSubtree(e,t){e=simpleUtils.toObject(e),t===void 0&&(t=0),0===t&&(e.style.border="1px solid "+this.outlineColor);for(let n=0,a;n<e.childNodes.length;n++)a=e.childNodes[n],a.nodeType===simpleUtils.DOM_ELEMENT_NODE&&(a.style.border="1px solid "+this.outlineColor),this.outlineDOMSubtree(a,t+1)}tabulator(e){return"<span style='margin-left: "+e*this.tabPixelSize+"px'></span>"}mapAppendObjectLink(e,t,n){let a="l"+t+"n"+n+"_"+this.mapTempObjectCounter++;this.mapTempObjects[a]=e,this.mapResultBuffer+=this.tabulator(t)+this.highlightLabelledAppendLink("(o)","conSense.mapTempObjects[\""+a+"\"]")+" "}mapDOMSubtree(e,t){e=simpleUtils.toObject(e),t===void 0&&(t=0,this.mapResultBuffer="",this.mapTempObjects=[],this.mapTempObjectCounter=0);for(let n=0,a;n<e.childNodes.length;n++){if(a=e.childNodes[n],this.mapTempObjectCounter++,a.nodeType===simpleUtils.DOM_ELEMENT_NODE){let e="",i="";if(this.mapAppendObjectLink(a,t,n),a.id&&(e=" id: "+this.highlightAppendLink(a.id)),a.className&&(i=" class: "+a.className),this.mapResultBuffer+=this.highlight(a.nodeName)+e+i+"<br />","conSenseContainer"===a.id&&!this.mapShowConSense){this.mapResultBuffer+=this.tabulator(t)+"(...)<br />";continue}if(a.attributes)for(let e=0;e<a.attributes.length;e++)a.attributes[e].specified&&"id"!==a.attributes[e].nodeName&&"class"!==a.attributes[e].nodeName&&(this.mapResultBuffer+=this.tabulator(t)+a.attributes[e].nodeName+": "+simpleUtils.HTML2Source(a.attributes[e].nodeValue)+"<br />")}if(a.nodeType===simpleUtils.DOM_TEXT_NODE){let e="";if(!this.mapShowEmptyTexts){let e=!0;for(let t=0;t<a.nodeValue.length;t++)if("\n"!==a.nodeValue.charAt(t)&&"\t"!==a.nodeValue.charAt(t)&&" "!==a.nodeValue.charAt(t)){e=!1;break}if(e)continue}this.mapAppendObjectLink(a,t,n),this.mapResultBuffer+=this.highlight("text"),e=a.nodeValue.length>this.mapExcerptSize?a.nodeValue.substring(0,this.mapExcerptSize)+" (...)":a.nodeValue,this.mapResultBuffer+=" \""+e+"\"<br />"}if(a.nodeType===simpleUtils.DOM_COMMENT_NODE){let e="";this.mapAppendObjectLink(a,t,n),this.mapResultBuffer+=this.highlight("comment"),e=a.nodeValue.length>this.mapExcerptSize?a.nodeValue.substring(0,this.mapExcerptSize)+" (...)":a.nodeValue,this.mapResultBuffer+=" \""+e+"\"<br />"}a.nodeType===simpleUtils.DOM_DOCUMENT_TYPE_NODE&&(this.mapAppendObjectLink(a,t,n),this.mapResultBuffer+=this.highlight("DOCTYPE")+" "+a.nodeName+" PUBLIC \""+a.publicId+"\"<br />"),this.mapDOMSubtree(a,t+1)}0===t&&this.write(this.mapResultBuffer)}mapDynamicCSS(e,t){e=simpleUtils.toObject(e);let n="",a="",o;void 0===t&&(t=0);let r;if(e!==document.body&&e.parentNode?this.mapDynamicCSS(e.parentNode,t+1):r=t,"#TEXT"===e.nodeName.toUpperCase())return void this.writeLn(this.tabulator(r-t)+this.highlight(e.nodeName));if(this.write(this.tabulator(r-t)+this.highlight(e.nodeName)),e.id&&(n=" id: "+this.highlightAppendLink(e.id)),e.className&&(a=" class: "+e.className),this.writeLn(n+a),e.style.cssText){o=e.style.cssText.split(";");for(let e=0;e<o.length;e++)o[e].length&&this.writeLn(this.tabulator(r-t)+o[e]+";")}}listCSS(){let e=!1;for(let t=0,n;t<document.childNodes.length;t++)if(n=document.childNodes[t],n.nodeType===simpleUtils.DOM_ELEMENT_NODE&&"HTML"===n.nodeName.toUpperCase()){let t=n;for(let a=0;a<t.childNodes.length;a++)n=t.childNodes[a],n.nodeType===simpleUtils.DOM_ELEMENT_NODE&&"HEAD"===n.nodeName.toUpperCase()&&(e=n)}if(e)for(let t=0,n;t<e.childNodes.length;t++)n=e.childNodes[t],n.nodeType===simpleUtils.DOM_ELEMENT_NODE&&("STYLE"===n.nodeName.toUpperCase()&&this.listCSS_HandleStyleNode(n),"LINK"===n.nodeName.toUpperCase()&&this.listCSS_HandleLinkNode(n))}listCSS_getFormattedRule(e){let t=[];t=0<simpleUtils.trimString(e).search("\n")?simpleUtils.trimString(e).split(/\n/):simpleUtils.trimString(e).split(/;/);for(let n=0,a;n<t.length;n++)a="",0<t[n].search(/{/)||"}"===simpleUtils.trimString(t[n])||(a=this.tabulator(1)),t[n]=a+t[n];return t}listCSS_HandleStyleNode(e){let t;if(e.textContent)t=this.listCSS_getFormattedRule(e.textContent);else if(e.innerHTML)t=this.listCSS_getFormattedRule(e.innerHTML);else return;this.writeLn("/* STYLE node */");for(let n=0;n<t.length;n++)this.writeLn(t[n])}listCSS_HandleLinkNode(e){if("STYLESHEET"===e.rel.toUpperCase()||"TEXT/CSS"===e.type.toUpperCase())if(this.writeLn("/* LINK node: "+e.href+" */"),e.sheet)for(let t=0,n;t<e.sheet.cssRules.length;t++){n=this.listCSS_getFormattedRule(e.sheet.cssRules[t].cssText);for(let e=0;e<n.length;e++)if(0<n[e].search("{")){let t=n[e].split(/{/);2!==t.length&&this.writeLn(n[e]+";"),this.writeLn(t[0]+" {"),this.writeLn(this.tabulator(1)+simpleUtils.trimString(t[1])+";")}else"}"===simpleUtils.trimString(n[e])?this.writeLn(n[e]):this.writeLn(n[e]+";")}else if(e.styleSheet){let t=this.listCSS_getFormattedRule(e.styleSheet.cssText);for(let e=0;e<t.length;e++)if(0<t[e].search("{")){let n=t[e].split(/{/);this.writeLn(n[0]+" {")}else if("}"===simpleUtils.trimString(t[e]))this.writeLn(t[e]);else{let n=simpleUtils.trimString(t[e]).split(/;/);for(let e=0,t;e<n.length;e++)t="",0<e&&(t=this.tabulator(1)),this.writeLn(t+n[e]+";")}}}license(){this.writeLn("The ConSense MIT-like license:<br />"),this.writeLn("---license---"),this.writeLn("Copyright (c) 2005-2008 Bal&aacute;zs T&oacute;th (contact dot consense at gmail dot com)<br />"),this.writeLn("Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:<br />"),this.writeLn("The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.<br />"),this.writeLn("THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE."),this.writeLn("---end of license---<br />"),this.writeLn("For the third-party library licenses please see the documentation.")}help(){this.writeLn("Command shorthands:"),this.writeManualEntry("","All obj parameters may be JavaScript/DOM object references or DOM id strings (eg. conSenseIn or \"conSenseIn\")."),this.writeManualEntry("clear()","clears screen"),this.writeManualEntry("debug(value0, value1)","shorthand for conSense.debugLn(value0, value1), writes a minimal, timestamped debug message. "+this.highlightAppendLink("conSense.debug")+" toggles output."),this.writeManualEntry("help()",""),this.writeManualEntry("list(obj)"," or "+this.highlightAppendLink("inspect(obj)")+" shorthand for conSense.listObject(obj), lists object members"),this.writeManualEntry("listCSS()","shorthand for conSense.listCSS(), lists full static CSS info of the page"),this.writeManualEntry("listStyle(obj)","shorthand for conSense.listObjectStyle(obj), lists the style member of an object"),this.writeManualEntry("load(uri, callback)","shorthand for redSandGenericLoader.load(uri, callback), loads external content identified by uri. If no callback is defined, redSandGenericLoader.JavaScriptEvaluatorCallback() is invoked. Asynchronous operation, execution takes place on finished loading. Use \"browsable\" file extensions, eg. .txt for your external files."),this.writeManualEntry("map(obj)","shorthand for conSense.mapDOMSubtree(obj), maps the subtree of a DOM element. Set "+conSense.highlightAppendLink("conSense.mapShowEmptyTexts")+" to display empty text nodes. Set "+conSense.highlightAppendLink("conSense.mapShowConSense")+" to expand conSenseContainer in higher level perspectives. Click (o) for a temporary representation of an object valid until next mapping. map() defaults to document if no parameter is passed."),this.writeManualEntry("mapCSS(obj)","shorthand for conSense.mapDynamicCSS(obj), lists the element's and its predecessors' inline and dynamic style info up to the root"),this.writeManualEntry("outline(obj)","shorthand for conSense.outlineDOMElement(obj), draws with "+this.highlightAppendLink("conSense.outlineColor")),this.writeManualEntry("outlineAll(tagName)","shorthand for conSense.outlineDOMElementsByTag(tagName), draws with "+this.highlightAppendLink("conSense.outlineColor")+", tagName stands for an HTML tag"),this.writeManualEntry("outlineSub(obj)","shorthand for conSense.outlineDOMSubtree(obj), outlines a subtree of the DOM rooting out of the parameter element. Draws with "+this.highlightAppendLink("conSense.outlineColor")+"."),this.writeManualEntry("write(value)",""),this.writeLn("To enumerate ConSense functions call "+this.highlightAppendLink("list(conSense)")+"."),this.writeLn("To enumerate SimpleDebug functions call "+this.highlightAppendLink("list(simpleDebug)")+"."),this.writeLn("To enumerate SimpleUtilities functions call "+this.highlightAppendLink("list(simpleUtils)")+"."),this.writeLn("To enumerate SimpleCryptography functions call "+this.highlightAppendLink("list(simpleCrypto)")+"."),this.writeLn("Otherwise all JavaScript expressions are accepted."),this.writeLn(this.highlight("This")+" style is used for simple highlighting and "+this.highlightAppendLink("this")+" is a clickable autoappend input string."),this.writeLn("Doubleclicking the output area focuses the input line. Up/down arrow keys control command history."),this.writeLn("Works best with Firefox 1.5+ and IE 6.0+."),this.writeLn("ConSense is (c) 2005-2007 Bal&aacute;zs T&oacute;th. See "+this.highlightAppendLink("license()")+" for details.")}}let conSense=new ConSense;function clear(){conSense.clearScreen()}function debug(e,t){conSense.debugLn(e,t)}function help(){conSense.help()}function license(){conSense.license()}function list(e){conSense.listObject(e)}function inspect(e){conSense.listObject(e)}function listCSS(){conSense.listCSS()}function listStyle(e){conSense.listObjectStyle(e)}function load(e,t){redSandGenericLoader.load(e,t)}function map(e){e===void 0&&(e=document),conSense.mapDOMSubtree(e)}function mapCSS(e){conSense.mapDynamicCSS(e)}function outline(e){conSense.outlineDOMElement(e)}function outlineAll(e){conSense.outlineDOMElementsByTag(e)}function outlineSub(e){conSense.outlineDOMSubtree(e)}function write(e){conSense.writeLn(e)}